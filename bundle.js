!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=11)}([function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;var r=n(2),o=n(18);Object.defineProperty(t,"MinimapUtils",{enumerable:!0,get:function(){return o.MinimapUtils}});var s=n(19);Object.defineProperty(t,"NodeUtils",{enumerable:!0,get:function(){return s.NodeUtils}});var a=n(21);Object.defineProperty(t,"LinkUtils",{enumerable:!0,get:function(){return a.LinkUtils}});var u=function(){function e(){}return e.debounce=function(e,t){var n;return function(i){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];clearTimeout(n);var s=i;n=window.setTimeout((function(){e.apply(s,r)}),t)}},e.generateId=function(){return r.ConfigurationManager.instance.getOption("generateIdFn")()},e.getUniquePrefix=function(e){return void 0===e&&(e=""),""+e+Math.floor(9999999*Math.random())},e.between=function(e,t){return function(n){return n>=e&&n<=t}},e.clamp=function(e,t,n){return Math.max(Math.min(e,n),t)},e.dedupe=function(e){return e.filter((function(t,n){return e.indexOf(t)===n}))},e.deepCopy=function(e){return JSON.parse(JSON.stringify(e))},e.snap=function(e,t){return i(i({},e),{x:Math.floor(e.x/t)*t,y:Math.floor(e.y/t)*t})},e.componentToHex=function(e){var t=e.toString(16);return 1==t.length?"0"+t:t},e.rgbToHex=function(t,n,i){return"#"+e.componentToHex(t)+e.componentToHex(n)+e.componentToHex(i)},e}();t.Utils=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(23);Object.defineProperty(t,"IOEvents",{enumerable:!0,get:function(){return i.IOEvents}});var r=n(24);Object.defineProperty(t,"DiagramEvents",{enumerable:!0,get:function(){return r.DiagramEvents}})},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationManager=void 0;var r,o=n(15),s=n(4),a={autosizeWatcher:!0,autosizeInterval:1e3,autosizeOnWindowResize:!0,disableLinkOperations:!1,connectionFunction:function(e,t){return!0},generateIdFn:o.v4,height:void 0,theme:s.DefaultDiagramTheme,width:void 0,autoPanSmoothing:4,screenShotMargin:300,screenShotBackground:!1,drawingDistance:{nodeTitle:0,nodeOptions:0,nodeType:0,nodeArrows:0,detailedLinks:.7,simplifiedLinks:0}},u=function(){function e(e){this.options=a,r=this,e.width&&e.height&&(this.options.autosizeWatcher=!1,this.options.autosizeOnWindowResize=!1),this.options=i(i(i({},this.options),e),{drawingDistance:i(i({},this.options.drawingDistance),e.drawingDistance)})}return Object.defineProperty(e,"instance",{get:function(){return r},enumerable:!1,configurable:!0}),e.prototype.getOption=function(e){return this.options[e]},e.prototype.getDistance=function(e){var t=this.options.drawingDistance;return void 0===t[e]?0:t[e]},e}();t.ConfigurationManager=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CSSMiniEngine=void 0;var i=n(2);var r=function(){function e(){var e=this;this.classes=[],this.addClass=function(t,n,r){void 0===r&&(r=""),e.classes.push(function(e,t,n){var r;r="function"==typeof e?e(i.ConfigurationManager.instance.getOption("theme")):e;var o=new Option;return Object.keys(r).forEach((function(e){o.style[e]=r[e]})),n?"."+t+n+"{\ncontent:'';"+o.getAttribute("style")+"\n}":"."+t+n+"{\n"+o.getAttribute("style")+"\n}"}(t,n,r))},this.compile=function(){var t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");t.appendChild(n),n.type="text/css",n.appendChild(document.createTextNode(e.classes.join("\n")))}}return Object.defineProperty(e,"instance",{get:function(){return o},enumerable:!1,configurable:!0}),e.createStyle=function(e){return e},e}();t.CSSMiniEngine=r;var o=new r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultDiagramTheme=void 0;var i=n(8);t.DefaultDiagramTheme={snappingGridSize:20,autoBeuatify:!0,fontFamily:"'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace",node:{width:200,height:110,nameSize:24,typeSize:20,maxCharacters:12,spacing:{x:100,y:100},options:{fontSize:18}},graph:{spacing:{x:300,y:350}},minimap:{alpha:.8,hoverAlpha:.9,size:500,margin:20},description:{width:200,paddingHorizontal:20,paddingVertical:20,fontSize:12,triangleHeight:10,triangleWidth:10,triangleDistance:20,lineHeight:18,placeholder:"Put your description here"},port:{width:50,gap:2},link:{cornerRadius:5,defaultCenterPoint:.5,strokeWidth:3},help:{lineHeight:21,text:14,padding:20,title:{text:14}},menu:{width:200,maxWidth:300,maxHeight:300,padding:"15px",borderRadius:"0px",category:{padding:"5px",fontSize:"11px",fontWeight:"normal"},title:{fontSize:"10px",fontWeight:"bold"},spacing:{x:20,y:10}},colors:{background:i.Colors.grey[8],node:{background:i.Colors.grey[6],selected:i.Colors.green[0],name:i.Colors.grey[0],type:i.Colors.grey[0],types:{string:i.Colors.green[0],type:i.Colors.main[0]},options:{required:i.Colors.red[0],array:i.Colors.yellow[0]},hover:{type:i.Colors.yellow[0]},menuOpened:i.Colors.red[0]},minimap:{background:i.Colors.grey[7],visibleArea:i.Colors.grey[5],node:i.Colors.grey[0],borders:i.Colors.grey[4]},description:{background:i.Colors.grey[9],text:i.Colors.grey[1]},port:{background:i.Colors.grey[5],backgroundActive:i.Colors.grey[4],button:i.Colors.grey[0]},link:{main:i.Colors.grey[3],hover:i.Colors.yellow[0],active:i.Colors.green[0]},menu:{background:"#151515",text:i.Colors.grey[3],hover:i.Colors.grey[1],title:i.Colors.grey[4]},help:{background:i.Colors.grey[7],text:i.Colors.grey[2],title:i.Colors.main[0]}}}},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.QuadTree=t.Region=void 0;var r=n(30);Object.defineProperty(t,"Region",{enumerable:!0,get:function(){return r.Region}});var o=function e(t,n,o,s){var a=this;void 0===t&&(t=new r.Region),void 0===n&&(n=50),void 0===o&&(o=10),void 0===s&&(s=0),this.bb=t,this.capacity=n,this.maxDepth=o,this.depth=s,this.objects=[],this.insert=function(e){if(!a.bb.intersect(e.bb))return!1;if(a.objects.length<a.capacity&&!a.sides||a.depth===a.maxDepth)return a.objects.push(e),!0;a.sides||a.subdivide();var t=!1;if(!a.sides)throw new Error("Cannot subdivide sides");return a.sides.nw.insert(e)&&(t=!0),a.sides.ne.insert(e)&&(t=!0),a.sides.sw.insert(e)&&(t=!0),a.sides.se.insert(e)&&(t=!0),t},this.delete=function(e,t){for(var n=a.pickTree(i({},t)),r=0,o=0,s=n.objects;o<s.length;o++)s[o].data===e&&n.objects.splice(r,1)[0].data,r++},this.update=function(e,t,n){a.delete(e,t),a.insert({data:e,bb:n})},this.subdivide=function(){var t=a.bb.center();a.sides={nw:new e(new r.Region(a.bb.min,t),a.capacity,a.maxDepth,a.depth+1),ne:new e(new r.Region({x:t.x,y:a.bb.min.y},{x:a.bb.max.x,y:t.y}),a.capacity,a.maxDepth,a.depth+1),sw:new e(new r.Region({x:a.bb.min.x,y:t.y},{x:t.x,y:a.bb.max.y}),a.capacity,a.maxDepth,a.depth+1),se:new e(new r.Region(t,a.bb.max),a.capacity,a.maxDepth,a.depth+1)};for(var n=0,i=a.objects;n<i.length;n++){var o=i[n];a.insert(o)}},this.queryRange=function(e){var t=[];if(!a.bb.intersect(e))return t;for(var n=0,i=a.objects;n<i.length;n++){var r=i[n];e.intersect(r.bb)&&t.push(r.data)}if(!a.sides)return t;var o=a.sides,s=o.nw,u=o.ne,d=o.sw,c=o.se,l=t.concat(s.queryRange(e)).concat(u.queryRange(e)).concat(c.queryRange(e)).concat(d.queryRange(e));return l.filter((function(e,t){return l.indexOf(e)===t}))},this.pick=function(e){var t=a.pickTree(e).objects.filter((function(t){return r.Region.regionContains(t.bb,e)}));if(t.length>0)return t[t.length-1].data},this.pickTree=function(e){return a.sides?a.sides.ne.pickTree(e)||a.sides.nw.pickTree(e)||a.sides.se.pickTree(e)||a.sides.sw.pickTree(e):a.bb.contains(e)?a:void 0}};t.QuadTree=o},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function(){return n(i),i}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,r=n;return[r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Colors=void 0,t.Colors={grey:["#FBFBFB","#E6E6E6","#CCCCCC","#B2B2B2","#808080","#4D4D4D","#333232","#202020","#1A1919","#050505","#E5E5E5","#666666"],main:["#FF59C5","#E650B1","#CC479E","#B33E8A","#802D62","#4D1B3B","#331227"],green:["#30FFC8","#2CE6B4","#27CCA0","#22B38C","#188064","#0F4D3C","#0A3328"],yellow:["#FED531","#E6C02C","#CCAB27","#B39622","#806B18","#4D400F","#332B0A","#C3A240"],red:["#FF306B","#E62C60","#CC2756","#B3224B","#801835","#4D0F20","#330A15"]}},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.RectanglePacker=void 0;var r=n(20),o=function(){function e(){}return e.pack=function(e,t){r.packBoxes(e.map((function(e,n){return{dimensions:[e.width+t.graph.spacing.x,e.height+t.graph.spacing.y],index:n}}))).forEach((function(t){var n=e[t.index],r={x:t.box.position[0]+n.width/2,y:t.box.position[1]+n.height/2};n.nodes.forEach((function(e){var t=e.x-n.center.x,i=e.y-n.center.y;e.x=r.x+t,e.y=r.y+i})),n.center=i({},r)}))},e}();t.RectanglePacker=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuadraticPath=void 0;var i=n(0);t.QuadraticPath=function(e,t,n,r,o,s,a,u,d,c){if(void 0===d&&(d=.5),e.beginPath(),e.moveTo(t,n),c)e.lineTo(t+100+2.5,n),e.arcTo(t+150,n,t+150+50,n+100,s),e.arcTo(t+150+2.5,n+150,t+150,n+150,s),e.arcTo(r-150-2.5,n+150,r-150,n-150,s),e.arcTo(r-150-2.5,n,r-150,n,s),e.lineTo(r,o);else{var l=i.LinkUtils.calculateLinkXCenterMath(t,r,d),h=Math.abs(o-n),p=h>2*s?s:Math.floor(h/2),f=r>t?p:-p,v=o>n?p:-p;e.beginPath(),e.moveTo(t,n),e.lineTo(l-f,n),e.arcTo(l,n,l,n+v,p),e.lineTo(l,o-v),e.arcTo(l,o,l+f,o,p),e.lineTo(r,o)}e.lineWidth=a,e.strokeStyle=u,e.stroke()}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(12);Object.defineProperty(t,"Diagram",{enumerable:!0,get:function(){return o.Diagram}}),r(n(0),t),r(n(46),t),r(n(63),t),r(n(66),t),r(n(9),t),r(n(1),t),r(n(4),t),r(n(67),t)},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{u(i.next(e))}catch(e){o(e)}}function a(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Diagram=void 0;var s=n(13),a=n(32),u=n(33),d=n(44),c=n(0),l=n(2),h=n(3),p=n(1),f=function(){function e(e,t){var n=this;if(this.hostDomElement=e,this.openMenu=function(e){n.stateManager.openMenu(e)},this.autoResize=function(){if(!n.stateManager.isScreenShotInProgress()){var e=n.calculateElementSize(n.hostDomElement);if(e.width!==n.currentHostSize.width||e.height!==n.currentHostSize.height){n.currentHostSize=e;var t={width:2*e.width,height:2*e.height};n.canvasElement.width=t.width,n.canvasElement.height=t.height,n.canvasElement.style.width="100%",n.canvasElement.style.height="100%",n.stateManager.areaResized({width:n.canvasElement.width,height:n.canvasElement.height}),n.io.calculateClientBoundingRect()}}},this.getHostElement=function(){return n.hostDomElement},this.screenShot=function(e){return void 0===e&&(e="image/png"),r(n,void 0,void 0,(function(){var t=this;return o(this,(function(n){return[2,new Promise((function(n){t.stateManager.setScreenShotInProgress(!0);var r=t.stateManager.pureState().nodes,o=t.configuration.getOption("screenShotMargin"),s=t.configuration.getOption("theme").node,a=s.width,u=s.height,d=r.reduce((function(e,t){return[Math.min(t.x,e[0]),Math.max(t.x,e[1])]}),[Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER]),c=r.reduce((function(e,t){return[Math.min(t.y,e[0]),Math.max(t.y,e[1])]}),[Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER]),l=i({},t.stateManager.getState().uiState);if(t.renderer.createScreenShotContext(d[0]-o,d[1]+o+a,c[0]-o,c[1]+o+u),l){var h=function(i){i.canvas.toBlob((function(e){n(e)}),e),t.stateManager.setScreenShotInProgress(!1),t.renderer.releaseScreenShotContext(),t.stateManager.getState().uiState.panX=l.panX,t.stateManager.getState().uiState.panY=l.panY,t.stateManager.getState().uiState.scale=l.scale,t.eventBus.off(p.DiagramEvents.ScreenShotRendered,h)};t.eventBus.on(p.DiagramEvents.ScreenShotRendered,h),t.eventBus.publish(p.DiagramEvents.RenderRequested)}}))]}))}))},"undefined"==typeof document)throw new Error("Diagram can work only in DOM-enabled environment (e.g. browser)!");this.configuration=new l.ConfigurationManager(t||{}),this.canvasElement=document.createElement("canvas"),this.canvasElement.tabIndex=-1,this.canvasElement.style.outline="none";var c=this.canvasElement.getContext("2d");if(!c)throw new Error("Can't create canvas context!");c.font="10px "+this.configuration.getOption("theme").fontFamily;var f=this.calculateElementSize(e);this.currentHostSize=f,this.canvasElement.oncontextmenu=function(){return!1};var v=this.configuration.getOption("width")||f.width,g=this.configuration.getOption("height")||f.height,m={width:2*v,height:2*g};for(this.canvasElement.width=m.width,this.canvasElement.height=m.height,this.canvasElement.style.width=v+"px",this.canvasElement.style.height=g+"px";e.firstChild;)e.removeChild(e.firstChild);"static"===window.getComputedStyle(e).position&&(e.style.position="relative"),e.appendChild(this.canvasElement),this.eventBus=new a.EventBus,this.io=new d.IO(this.eventBus,this.canvasElement),this.stateManager=new u.StateManager(this.eventBus,this.configuration.getOption("theme"),this.configuration.getOption("connectionFunction"),this.configuration.getOption("disableLinkOperations"),this.getHostElement,m),this.renderer=new s.Renderer(this.eventBus,c,this.stateManager,this.configuration.getOption("theme")),this.configuration.getOption("autosizeWatcher")&&setInterval(this.autoResize,this.configuration.getOption("autosizeInterval")),h.CSSMiniEngine.instance.compile(),this.wireUpResizer(),this.renderer.renderStart()}return e.prototype.setDefinitions=function(e){this.stateManager.setDefinitions(e)},e.prototype.on=function(e,t){return this.eventBus.on(e,t)},e.prototype.off=function(e,t){return this.eventBus.off(e,t)},e.prototype.setNodes=function(e,t){t&&this.beautifyDiagram(e),this.stateManager.setNodes(e)},e.prototype.setLinks=function(e){this.stateManager.setLinks(e)},e.prototype.centerOnNode=function(e){this.stateManager.centerOnNode(e)},e.prototype.selectNode=function(e){this.stateManager.selectNode(e)},e.prototype.setReadOnly=function(e){this.stateManager.setReadOnly(e)},e.prototype.requestSerialise=function(){this.stateManager.requestSerialise()},e.prototype.rebuildTrees=function(){this.stateManager.rebuildTrees()},e.prototype.beautifyDiagram=function(e){c.NodeUtils.beautifyDiagram(e,this.configuration.getOption("theme"))},e.prototype.forceRender=function(){this.eventBus.publish(p.DiagramEvents.RenderRequested)},e.prototype.centerDiagram=function(){this.stateManager.centerGraph()},e.prototype.zeroDiagram=function(){this.stateManager.zeroGraph()},e.prototype.resize=function(e,t){var n={width:e,height:t};this.currentHostSize=n;var i={width:2*n.width,height:2*n.height};this.canvasElement.width=i.width,this.canvasElement.height=i.height,this.canvasElement.style.width=n.width+"px",this.canvasElement.style.height=n.height+"px",this.stateManager.areaResized({width:this.canvasElement.width,height:this.canvasElement.height}),this.io.calculateClientBoundingRect()},e.prototype.calculateElementSize=function(e){return{width:e.clientWidth,height:e.clientHeight}},e.prototype.wireUpResizer=function(){var e=this;this.configuration.getOption("autosizeOnWindowResize")&&window.addEventListener("resize",(function(){e.autoResize()}))},e}();t.Diagram=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0;var i=n(14),r=n(22),o=n(1),s=n(25),a=n(27),u=n(28),d=n(5),c=n(3),l=n(31),h=n(2),p=function(){function e(e,t,n,h){var p=this;this.eventBus=e,this.canvasContext=t,this.stateManager=n,this.theme=h,this.minimapRenderer=new i.MinimapRenderer,this.zoomPan=new r.ZoomPan,this.cssMiniEngine=new c.CSSMiniEngine,this.previousFrameTime=0,this.screenShotCanvasContext=null,this.getAllNodesArea=function(){var e=p.stateManager.pureState().nodes,t=e.reduce((function(e,t){return{x:Math.min(t.x,e.x),y:Math.min(t.y,e.y)}}),{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER}),n=e.reduce((function(e,t){return{x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)}}),{x:Number.MIN_SAFE_INTEGER,y:Number.MIN_SAFE_INTEGER});return new d.Region(t,n)},this.getActiveArea=function(){var e=p.stateManager.getState().uiState,t=e.areaSize.width/e.scale,n=e.areaSize.height/e.scale;return new d.Region({x:0-e.panX,y:0-e.panY},{x:t-e.panX,y:n-e.panY})},this.renderStart=function(){window.requestAnimationFrame(p.render)},this.renderUpdate=function(){window.requestAnimationFrame(p.render)},this.animate=function(e){return p.stateManager.calculateAnimations(e)},this.calculateTimeDelta=function(e){return 0===p.previousFrameTime?1:(e-p.previousFrameTime)/16},this.resetTimeCounter=function(){p.previousFrameTime=0},this.render=function(e){var t=p.calculateTimeDelta(e);p.setScreenTransform(),p.renderBackground(),p.setWorldTransform(),p.renderLinks(),p.renderActiveLink(),p.renderNodes(),p.setScreenTransform(),p.renderMinimap(),p.renderCursor(),p.animate(t)?p.previousFrameTime=e:p.resetTimeCounter(),p.stateManager.isScreenShotInProgress()&&p.eventBus.publish(o.DiagramEvents.ScreenShotRendered,p.screenShotCanvasContext)},this.contextProvider=new l.ContextProvider(t),this.nodeRenderer=new s.NodeRenderer(this.contextProvider,this.theme,this.stateManager),this.activeLinkRenderer=new a.ActiveLinkRenderer(this.contextProvider,this.theme),this.linkRenderer=new u.LinkRenderer(this.contextProvider,this.theme),this.eventBus.subscribe(o.DiagramEvents.RenderRequested,this.renderStart),this.cssMiniEngine.compile()}return e.prototype.setCursor=function(e){this.contextProvider.context.canvas.style.cursor=e},e.prototype.renderCursor=function(){var e=this.stateManager.getState();if(!e.drawedConnection)return e.hover.node?(this.setCursor("move"),e.hover.type&&e.hover.node.definition.parent||e.hover.io?void this.setCursor("pointer"):void 0):void(e.hover.description?this.setCursor("text"):e.hover.link?this.setCursor("col-resize"):this.setCursor("grab"));this.setCursor("grabbing")},e.prototype.renderNodes=function(){for(var e=this.stateManager.isScreenShotInProgress()?this.getAllNodesArea():this.getActiveArea(),t=this.stateManager.getState(),n=0,i=t.trees.node.queryRange(e).concat(t.selectedNodes);n<i.length;n++){var r=i[n],o=-1!==t.selectedNodes.indexOf(r),s=t.hover.node===r,a=t.renamed&&t.renamed===r,u=t.isNodeMenuOpened,d=s&&t.hover.type,c=s&&"i"==t.hover.io,l=s&&"o"==t.hover.io,h=t.uiState.scale;this.nodeRenderer.render({node:r,isRenamed:a,isSelected:o,isHovered:s,isNodeMenuOpened:u,typeIsHovered:d,inputActive:c,outputActive:l,currentScale:h})}},e.prototype.renderActiveLink=function(){var e=this.stateManager.getState();e.draw&&e.drawedConnection&&this.activeLinkRenderer.render({from:e.draw.initialPos,to:e.drawedConnection})},e.prototype.renderLinks=function(){var e=this,t=this.stateManager.getState(),n=this.stateManager.isScreenShotInProgress()?this.getAllNodesArea():this.getActiveArea();t.trees.link.queryRange(n).forEach((function(n){return e.linkRenderer.render(n,"main",t.uiState.scale)})),t.links.filter((function(e){return t.selectedNodes.find((function(t){return t===e.i||t===e.o}))})).forEach((function(n){return e.linkRenderer.render(n,"active",t.uiState.scale)})),t.hover.link&&this.linkRenderer.render(t.hover.link,"hover",t.uiState.scale)},e.prototype.renderBackground=function(){if(!this.stateManager.isScreenShotInProgress()||h.ConfigurationManager.instance.getOption("screenShotBackground")){var e=this.contextProvider.context.canvas,t=e.width,n=e.height;this.contextProvider.context.fillStyle=this.theme.colors.background,this.contextProvider.context.fillRect(0,0,t,n)}},e.prototype.renderMinimap=function(){this.minimapRenderer.render(this.contextProvider.context,this.theme,this.stateManager.getState())},e.prototype.setScreenTransform=function(){this.zoomPan.setUniformMatrix(this.contextProvider.context)},e.prototype.setWorldTransform=function(){var e=this.stateManager.pureState().uiState;this.zoomPan.setCalculatedMatrix(this.contextProvider.context,e)},e.prototype.createScreenShotContext=function(e,t,n,i){var r=document.createElement("canvas");r.width=Math.abs(t-e),r.height=Math.abs(i-n),this.screenShotCanvasContext=r.getContext("2d"),this.screenShotCanvasContext&&(this.contextProvider.switchContext(this.screenShotCanvasContext),this.stateManager.getState().uiState.panX=-e,this.stateManager.getState().uiState.panY=-n,this.stateManager.getState().uiState.scale=1)},e.prototype.releaseScreenShotContext=function(){this.screenShotCanvasContext=null,this.contextProvider.switchContext(this.canvasContext)},e}();t.Renderer=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MinimapRenderer=void 0;var i=n(0),r=function(){function e(){}return e.prototype.render=function(e,t,n){var r=n.uiState;if(r.minimapActive&&!n.screenShotInProgress){e.save(),e.globalAlpha=n.hoverMinimap?t.minimap.hoverAlpha:t.minimap.alpha;var o=e.canvas.width-t.minimap.size-t.minimap.margin,s=t.minimap.margin,a=i.MinimapUtils.getBoundingBoxViewport({x:r.panX,y:r.panY},r.scale,n.uiState.areaSize),u=i.MinimapUtils.getMiniMapBoundaries(a,n.uiState.areaSize),d=i.MinimapUtils.worldToMapPoint({x:a.left,y:a.top},t.minimap.size,u),c={width:i.MinimapUtils.worldToMapWidth(a.width,u,t.minimap.size),height:i.MinimapUtils.worldToMapHeight(a.height,u,t.minimap.size),left:d.x-1,top:d.y-1};e.fillStyle=t.colors.minimap.background,e.fillRect(o,s,t.minimap.size,t.minimap.size),e.strokeStyle=t.colors.minimap.borders,e.lineWidth=1,e.strokeRect(o,s,t.minimap.size,t.minimap.size),e.beginPath(),e.rect(o,s,t.minimap.size,t.minimap.size),e.clip(),e.fillStyle=t.colors.minimap.visibleArea,e.fillRect(o+c.left,s+c.top,c.width,c.height),e.lineWidth=1,e.strokeRect(o+c.left,s+c.top,c.width,c.height),e.fillStyle=t.colors.minimap.node,n.nodes.filter((function(e){return!e.hidden})).forEach((function(n){var r=i.MinimapUtils.worldToMapPoint(n,t.minimap.size,u);e.fillRect(o+r.x,s+r.y,6,4)})),e.restore()}},e}();t.MinimapRenderer=r},function(e,t,n){var i=n(16),r=n(17),o=r;o.v1=i,o.v4=r,e.exports=o},function(e,t,n){var i,r,o=n(6),s=n(7),a=0,u=0;e.exports=function(e,t,n){var d=t&&n||0,c=t||[],l=(e=e||{}).node||i,h=void 0!==e.clockseq?e.clockseq:r;if(null==l||null==h){var p=o();null==l&&(l=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=r=16383&(p[6]<<8|p[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,g=f-a+(v-u)/1e4;if(g<0&&void 0===e.clockseq&&(h=h+1&16383),(g<0||f>a)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=f,u=v,r=h;var m=(1e4*(268435455&(f+=122192928e5))+v)%4294967296;c[d++]=m>>>24&255,c[d++]=m>>>16&255,c[d++]=m>>>8&255,c[d++]=255&m;var y=f/4294967296*1e4&268435455;c[d++]=y>>>8&255,c[d++]=255&y,c[d++]=y>>>24&15|16,c[d++]=y>>>16&255,c[d++]=h>>>8|128,c[d++]=255&h;for(var b=0;b<6;++b)c[d+b]=l[b];return t||s(c)}},function(e,t,n){var i=n(6),r=n(7);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||r(s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MinimapUtils=void 0;var i=function(){function e(){}return e.getBoundingBoxViewport=function(e,t,n){return{left:-e.x,right:n.width/t-e.x,top:-e.y,bottom:n.height/t-e.y,width:n.width/t,height:n.height/t}},e.getMiniMapBoundaries=function(e,t){return{left:Math.max(Math.min(t.width/2-7e3,e.left),e.right-14e3),top:Math.max(Math.min(t.height/2-7e3,e.top),e.bottom-14e3),width:14e3,height:14e3}},e.mapToWorldPoint=function(e,t,n){var i=(t.left+t.width/2)/(t.width/n),r=(t.top+t.height/2)/(t.width/n),o=t.width/n;return{x:e.x*o-(n/2-i)*o,y:e.y*o-(n/2-r)*o}},e.worldToMapWidth=function(e,t,n){return e/(t.width/(n-1))},e.worldToMapHeight=function(e,t,n){return e/(t.height/(n-1))},e.worldToMapPoint=function(t,n,i){var r=e.worldToMapWidth(i.left+i.width/2,i,n),o=e.worldToMapHeight(i.top+i.height/2,i,n),s=i.width/(n-1);return{x:n/2-r+t.x/s,y:n/2-o+t.y/s}},e}();t.MinimapUtils=i},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeUtils=void 0;var o=n(0),s=n(4),a=n(9),u=function(){function e(){}return e.createObjectDefinition=function(e,t){return e.instances?e.instances.map((function(n){return i(i(i(i({},e),{type:t,root:void 0,main:void 0,parent:e,id:o.Utils.generateId()}),n),{node:i(i(i({},e.node),{inputs:[],outputs:[]}),n&&n.node||{})})})):[]},e.createBasicNode=function(e,t,n){void 0===n&&(n={});var r=o.Utils.deepCopy(t.node);return i(i({name:t.type||"Node",id:o.Utils.generateId(),description:"Enter your description",x:e.x,y:e.y,inputs:[],outputs:[],options:[],definition:t},r),n)},e.createNode=function(t,n,i){var r=n.node,s=o.Utils.deepCopy(r),a=e.createBasicNode(t,n);if(n.instances){var u=e.createObjectDefinition(n,s.name||""+n.type+i.length);a.editsDefinitions=u;for(var d=0,c=u;d<c.length;d++){var l=c[d];i.push(l)}}return a},e.AcceptedNodeDefinitionsToDefinitions=function(e){var t=[],n=function(e){e.forEach((function(e){e.definition&&t.push(e.definition),e.category&&n(e.category.definitions)}))};return n(e),t},e.getDefinitionAcceptedInputs=function(t,n,i,r,o){return e.AcceptedNodeDefinitionsToDefinitions(e.getDefinitionAcceptedInputCategories(t,n,i,r,o))},e.getDefinitionAcceptedOutputs=function(t,n,i,r,o){return e.AcceptedNodeDefinitionsToDefinitions(e.getDefinitionAcceptedOutputCategories(t,n,i,r,o))},e.getDefinitionAcceptedOutputCategories=function(e,t,n,i,r){var s=[];return e.acceptsOutputs&&(s=s.concat(e.acceptsOutputs(e,t,n,i,r))),o.Utils.dedupe(s)},e.getDefinitionAcceptedInputCategories=function(e,t,n,i,r){var s=[];return e.acceptsInputs&&(s=s.concat(e.acceptsInputs(e,t,n,i,r))),o.Utils.dedupe(s)},e.findAllConnectedNodes=function(e){var t=[],n=function(e){t.find((function(t){return t===e}))||(t.push(e),e.inputs&&e.inputs.map(n),e.outputs&&e.outputs.map(n))};return n(e),t},e.graphFromNode=function(t){var n=e.findAllConnectedNodes(t),i=n.map((function(e){return e.x})),r=n.map((function(e){return e.y})),o={x:Math.min.apply(Math,i),y:Math.min.apply(Math,r)},s={x:Math.max.apply(Math,i),y:Math.max.apply(Math,r)},a=Math.abs(o.x-s.x),u=Math.abs(o.y-s.y);return{nodes:n,width:a,height:u,center:{x:o.x+a/2,y:o.y+u/2}}},e.graphsFromNodes=function(t){for(var n=[],i=[],r=function(t){if(n.find((function(e){return e.id===t.id})))return"continue";var r=e.graphFromNode(t);n=n.concat(r.nodes),i.push(r)},o=0,s=t;o<s.length;o++){r(s[o])}return i},e.positionGraph=function(t,n){if(void 0===n&&(n=s.DefaultDiagramTheme),0===t.nodes.length)return t;var i={},o=[],a=t.center,u=function(e,t){void 0===t&&(t=0),o.find((function(t){return t===e}))||(i[t]=i[t]||[],o.push(e),i[t].push(e),e.inputs&&e.inputs.forEach((function(e){return u(e,t-1)})))};u(t.nodes.find((function(e){return!e.outputs||0===e.outputs.length})));var d=Object.keys(i).map((function(e){return parseInt(e)}));d.sort((function(e,t){return e-t}));var c=n.node,l=n.port,h=c.width+c.spacing.x+2*l.width;d.forEach((function(e,t){0===t?i[e].sort((function(e,t){var n=e.outputs[0].id,i=t.outputs[0].id;return n===i?0:n>i?1:-1})):i[e].sort((function(e,t){return t.inputs?0===t.inputs.length?-2:e.inputs===t.inputs?0:(e.inputs?e.inputs.length:0)>(t.inputs?t.inputs.length:0)?1:-1:-2})),i[e].filter((function(e){return e.inputs&&e.inputs.length>0})).forEach((function(e){if(e.inputs){e.x=t*h;var n=e.inputs.map((function(e){return e.y})),i=[Math.min.apply(Math,n),Math.max.apply(Math,n)],r=i[0],o=i[1];e.y=(r+o)/2}}));var n=Math.max.apply(Math,r([0],i[e].filter((function(e){return e.inputs&&e.inputs.length>0})).map((function(e){return e.y})))),o=Math.min.apply(Math,i[e].filter((function(e){return!e.inputs||e.inputs.length<1})).map((function(e){return e.y}))),s=Math.max(n,o);i[e].filter((function(e){return!e.inputs||e.inputs.length<1})).forEach((function(e){e.x=t*h,e.y=s+c.height+c.spacing.y,s=e.y}))}));var p=e.graphFromNode(t.nodes[0]),f=a.x-p.center.x,v=a.y-p.center.y;return p.nodes.forEach((function(e){e.x+=f,e.y+=v})),e.graphFromNode(t.nodes[0])},e.beautifyDiagram=function(t,n){var i=e.graphsFromNodes(t);a.RectanglePacker.pack(i.map((function(t){return e.positionGraph(t)})),n)},e.createTreeNode=function(e,t){return void 0===t&&(t=s.DefaultDiagramTheme),{data:e,bb:{min:{x:e.x-t.port.width,y:e.y-t.node.typeSize},max:{x:e.x+t.node.width+t.port.width,y:e.y+t.node.height}}}},e}();t.NodeUtils=u},function(e,t,n){"use strict";function i(e){return Math.max(e.size[0],e.size[1])}function r(e){for(var t=0,n=0,i=0;i<e.length;i++){var r=e[i],o=r.position[0]+r.size[0],s=r.position[1]+r.size[1];o>t&&(t=o),s>n&&(n=s)}return[t,n]}function o(e,t){for(var n=t,i=0;i<e.length;i++){if(s(n,e[i]))return!1}return!0}function s(e,t){return e.position[0]<t.position[0]+t.size[0]&&e.position[0]+e.size[0]>t.position[0]&&e.position[1]<t.position[1]+t.size[1]&&e.position[1]+e.size[1]>t.position[1]}Object.defineProperty(t,"__esModule",{value:!0}),t.whitespace=t.packBoxes=void 0,t.packBoxes=function(e){for(var t={size:[0,0],boxes:[]},n=new Array(e.length),s=0;s<e.length;s++)n[s]=s;for(n.sort((function(t,n){return e[n].dimensions[0]*e[n].dimensions[1]-e[t].dimensions[0]*e[t].dimensions[1]})),s=0;s<e.length;s++){for(var a=e[n[s]].dimensions,u=[[0,0]],d=0;d<t.boxes.length;d++){var c=t.boxes[d];u.push([c.position[0],c.position[1]+c.size[1]],[c.position[0]+c.size[0],c.position[1]])}var l={score:1/0,position:u[0]};if(u.length>1)for(d=0;d<u.length;d++){var h=u[d],p={size:a,position:h};if(o(t.boxes,p)){var f=t.boxes.slice();f.push(p);var v=i({size:r(f),boxes:f});v<l.score&&(l.score=v,l.position=h)}}var g={size:a,position:l.position};t.boxes.push(g),t.size=r(t.boxes)}var m=t.boxes.slice();for(s=0;s<m.length;s++)t.boxes[n[s]]=m[s];return m.map((function(e,t){return{index:n[t],box:e}}))},t.whitespace=function(e){for(var t=e.size[0]*e.size[1],n=0;n<e.boxes.length;n++){var i=e.boxes[n];t-=i.size[0]*i.size[1]}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkUtils=void 0;var i=n(4),r=function(){function e(){}return e.linkToTree=function(t,n){void 0===n&&(n=i.DefaultDiagramTheme);var r=t.o,o=t.i,s=e.calculateLinkXCenter(t,n);return{data:t,bb:{min:{x:s-15,y:(r.y<=o.y?r.y:o.y)+n.node.height/2},max:{x:s+15,y:(r.y>o.y?r.y:o.y)+n.node.height/2}}}},e.calculateLinkCenterPoint=function(e,t,n){void 0===n&&(n=i.DefaultDiagramTheme);var r=e.o.x+n.node.width;return(t.x-r)/(e.i.x-r)},e.calculateLinkXCenter=function(t,n){return void 0===n&&(n=i.DefaultDiagramTheme),e.calculateLinkXCenterMath(t.o.x+n.node.width,t.i.x,t.centerPoint)},e.calculateLinkXCenterMath=function(e,t,n){return e-(e-t)*n},e}();t.LinkUtils=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZoomPan=void 0;var i=function(){function e(){}return e.prototype.setCalculatedMatrix=function(e,t){this.setUniformMatrix(e),e.scale(t.scale,t.scale),e.translate(t.panX,t.panY)},e.prototype.setUniformMatrix=function(e){e.setTransform(1,0,0,1,0,0)},e}();t.ZoomPan=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IOEvents=void 0,function(e){e.ScreenMouseLeave="ScreenMouseLeave",e.ScreenMouseMove="ScreenMouseMove",e.ScreenMouseDrag="ScreenMouseDrag",e.ScreenMouseOverMove="ScreenMouseOverMove",e.ScreenLeftMouseUp="ScreenLeftMouseUp",e.ScreenRightMouseUp="ScreenRightMouseUp",e.ScreenLeftMouseClick="ScreenLeftMouseClick",e.ScreenDoubleClick="ScreenDoubleClick",e.ScreenMouseWheel="ScreenMouseWheel",e.WorldMouseMove="WorldMouseMove",e.WorldMouseOverMove="WorldMouseOverMove",e.WorldMouseDrag="WorldMouseDrag",e.WorldMouseDragEnd="WorldMouseDragEnd",e.WorldLeftMouseClick="WorldLeftMouseClick",e.WorldLeftMouseUp="WorldLeftMouseUp",e.MinimapMouseMove="MinimapMouseMove",e.MinimapLeftMouseClick="MinimapLeftMouseClick",e.ScreenRightMouseClick="ScreenRightMouseClick",e.MPressed="MPressed",e.DeletePressed="DeletePressed",e.BackspacePressed="BackspacePressed",e.RenamerChanged="RenamerChanged"}(t.IOEvents||(t.IOEvents={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagramEvents=void 0,function(e){e.NodeMoved="NodeMoved",e.NodeSelected="NodeSelected",e.NodeCreated="NodeCreated",e.NodeDeleted="NodeDeleted",e.NodeChanged="NodeChanged",e.NodeRenameFocus="NodeRenameFocus",e.NodeRenameShowInput="NodeRenameShowInput",e.NodeRenameEnded="NodeRenameEnded",e.FoldNodes="FoldNodes",e.NodeCreationRequested="NodeCreationRequested",e.DescriptionRenameShowInput="DescriptionRenameShowInput",e.DescriptionRenameEnded="DescriptionRenameEnded",e.DescriptionRenameFocus="DescriptionRenameFocus",e.DescriptionMakeReadOnly="DescriptionMakeReadOnly",e.DescriptionMakeEditable="DescriptionMakeEditable",e.LinkCreated="LinkCreated",e.LinkDeleted="LinkDeleted",e.LinkMoved="LinkMoved",e.DrawingLink="DrawingLink",e.PickRequested="PickRequested",e.RebuildTreeRequested="RebuildTreeRequested",e.RenderRequested="RenderRequested",e.SerialisationRequested="SerialisationRequested",e.UndoRequested="UndoRequested",e.RedoRequested="RedoRequested",e.DataModelChanged="DataModelChanged",e.ViewModelChanged="ViewModelChanged",e.PanRequested="PanRequested",e.CenterPanRequested="CenterPanRequested",e.MenuRequested="MenuRequested",e.MenuItemClicked="MenuItemClicked",e.CenterOnNode="CenterOnNode",e.ScreenShotRendered="ScreenShotRendered"}(t.DiagramEvents||(t.DiagramEvents={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRenderer=void 0;var i=n(26),r=n(2),o=function(){function e(e,t,n){var o=this;this.contextProvider=e,this.theme=t,this.stateManager=n,this.render=function(e){var t=e.node,n=e.typeIsHovered,r=e.isHovered,s=e.isSelected,a=e.isRenamed,u=e.isNodeMenuOpened,d=e.inputActive,c=e.outputActive,l=e.currentScale,h=void 0===l?1:l;if(!t.hidden){var p=o.theme,f=p.colors,v=p.node,g=v.width,m=v.height,y=v.nameSize,b=v.typeSize,M=v.options,x=p.port,E=o.stateManager.pureState().isReadOnly||t.readonly;o.context.fillStyle=f.node.background;var S=t.inputs?0:5,C=t.outputs?0:5;i.RoundedRectangle(o.context,{width:g,height:m,x:t.x,y:t.y,radius:0,radiusBottomLeft:S,radiusTopLeft:S,radiusBottomRight:C,radiusTopRight:C});var R=o.distances,D=R.nodeType,w=R.nodeTitle,O=R.nodeOptions,N=R.nodeArrows;if(h>D){o.context.fillStyle=f.node.types[t.definition.type]||f.node.type;var k=t.definition.type;n&&t.definition.parent&&(o.context.fillStyle=f.node.hover.type,k+=" >"),o.context.font=o.getNodeFont(b,"normal"),o.context.textBaseline="bottom",o.context.textAlign="end",o.context.fillText(k,t.x+g,t.y)}else o.context.fillStyle=f.node.types[t.definition.type]||f.node.type,o.context.fillRect(t.x+g-g/4,t.y-b/1.5-2,g/4,b/1.5);if(t.inputs&&(o.context.font=o.getNodeFont(y,"normal"),o.context.textAlign="center",o.context.textBaseline="middle",o.context.fillStyle=d?f.port.backgroundActive:f.port.background,i.RoundedRectangle(o.context,{height:m,width:x.width,x:t.x-x.width,y:t.y,radiusTopLeft:10,radiusBottomLeft:10}),h>N&&!E&&(o.context.fillStyle=f.port.button,o.context.font=o.getNodeFont(12,"normal"),o.context.fillText("◀",t.x-x.width/2,t.y+m/2+2)),o.context.fillStyle=f.background,x.gap&&i.RoundedRectangle(o.context,{height:m,width:x.gap,x:t.x,y:t.y,radius:0})),t.outputs&&(o.context.fillStyle=c?f.port.backgroundActive:f.port.background,i.RoundedRectangle(o.context,{height:m,width:x.width,x:t.x+g,y:t.y,radiusTopRight:10,radiusBottomRight:10}),h>N&&!E&&(o.context.fillStyle=f.port.button,o.context.font=o.getNodeFont(12,"normal"),o.context.fillText("▶",t.x+g+x.width/2,t.y+m/2+2)),o.context.fillStyle=f.background,x.gap&&i.RoundedRectangle(o.context,{height:m,width:x.gap,x:t.x+g,y:t.y,radius:0})),t.options&&h>O){var P=0;t.options.forEach((function(e){o.context.fillStyle=f.node.options[e]||f.node.name,o.context.font=o.getNodeFont(M.fontSize,"normal"),o.context.textAlign="left",o.context.fillText(e,t.x+P,t.y+m+M.fontSize,g),P+=o.context.measureText(e).width+M.fontSize/2}))}if(t.name&&!a)if(o.context.fillStyle=f.node.name,h>w)o.context.font=o.getNodeFont(y,"normal"),o.context.textAlign="center",o.context.textBaseline="middle",o.context.fillText(t.name,t.x+g/2,t.y+m/2);else{o.context.fillStyle=f.node.name+"55";var B=g/2,T=y/1.5;o.context.fillRect(t.x+g/2-B/2,t.y+m/2-T/2,B,T)}var _=t.outputs?10:0,L=t.inputs?10:0,z=g,I=t.x;t.inputs&&(I-=x.width,z+=x.width),t.outputs&&(z+=x.width),(r||s)&&(o.context.strokeStyle=u?f.node.menuOpened:f.node.selected,o.context.lineWidth=2,i.RoundedRectangleStroke(o.context,{width:z,height:m,x:I,y:t.y,radius:0,radiusBottomLeft:L,radiusTopLeft:L,radiusBottomRight:_,radiusTopRight:_})),s&&(o.context.fillStyle=u?f.node.menuOpened+"17":f.node.selected+"17",i.RoundedRectangle(o.context,{width:z,height:m,x:I,y:t.y,radiusBottomLeft:L,radiusTopLeft:L,radiusBottomRight:_,radiusTopRight:_}))}},this.distances=r.ConfigurationManager.instance.getOption("drawingDistance")}return e.prototype.getNodeFont=function(e,t){return void 0===t&&(t="normal"),t+" "+e+"px "+this.theme.fontFamily},Object.defineProperty(e.prototype,"context",{get:function(){return this.contextProvider.context},enumerable:!1,configurable:!0}),e}();t.NodeRenderer=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoundedRectangleStroke=t.RoundedRectangle=void 0;var i=function(e,t){var n=t.width,i=t.height,r=t.x,o=t.y,s=t.radius||0,a=t.radiusTopLeft||s,u=t.radiusTopRight||s,d=t.radiusBottomRight||s,c=t.radiusBottomLeft||s;e.beginPath(),e.moveTo(r+a,o),e.lineTo(r+n-u,o),e.arcTo(r+n,o,r+n,o+u,u),e.lineTo(r+n,o+i-d),e.arcTo(r+n,o+i,r+n-d,o+i,d),e.lineTo(r+c,o+i),e.arcTo(r,o+i,r,o+i-c,c),e.lineTo(r,o+a),e.arcTo(r,o,r+a,o,a)};t.RoundedRectangle=function(e,t){i(e,t),e.fill()},t.RoundedRectangleStroke=function(e,t){i(e,t),e.stroke()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveLinkRenderer=void 0;var i=n(10),r=function(e,t){var n=this;this.contextProvider=e,this.theme=t,this.render=function(e){var t=e.from,r=e.to;i.QuadraticPath(n.contextProvider.context,t.x,t.y,r.x,r.y,n.theme.link.cornerRadius,n.theme.link.strokeWidth,n.theme.colors.link.main,n.theme.link.defaultCenterPoint,t.x===r.x&&t.y===r.y)}};t.ActiveLinkRenderer=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkRenderer=void 0;var i=n(10),r=n(29),o=n(2),s=function(e,t){var n=this;this.contextProvider=e,this.theme=t,this.render=function(e,t,o){void 0===o&&(o=1);var s=n.theme.node,a=s.width,u=s.height,d=n.contextProvider.context;if(!e.i.hidden&&!e.o.hidden)return o>n.distances.detailedLinks&&!e.i.hidden?i.QuadraticPath(d,e.o.x+a,e.o.y+u/2,e.i.x,e.i.y+u/2,n.theme.link.cornerRadius,n.theme.link.strokeWidth,n.theme.colors.link[t],e.centerPoint||n.theme.link.defaultCenterPoint,e.o.x===e.i.x&&e.o.y===e.i.y):o>n.distances.simplifiedLinks&&!e.i.hidden?r.SimplifiedPath(d,e.i.x,e.i.y+u/2,e.o.x+a,e.o.y+u/2,n.theme.link.strokeWidth,n.theme.colors.link[t],e.centerPoint||n.theme.link.defaultCenterPoint,e.o.x===e.i.x&&e.o.y===e.i.y):void 0},this.distances=o.ConfigurationManager.instance.getOption("drawingDistance")};t.LinkRenderer=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimplifiedPath=void 0;var i=n(0);t.SimplifiedPath=function(e,t,n,r,o,s,a,u,d){void 0===u&&(u=.5);var c=i.LinkUtils.calculateLinkXCenterMath(t,r,u);e.beginPath(),e.moveTo(t,n),d?(e.lineTo(t+150,n),e.lineTo(t+150,n+50),e.lineTo(r-150,o+50),e.lineTo(r-150,o),e.lineTo(r,o)):(e.lineTo(c,n),e.lineTo(c,o),e.lineTo(r,o)),e.lineWidth=s,e.strokeStyle=a,e.stroke()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Region=void 0;var i=1e20,r=function(){function e(t,n){var r=this;void 0===t&&(t={x:-i,y:-i}),void 0===n&&(n={x:i,y:i}),this.min=t,this.max=n,this.center=function(){return{x:(r.min.x+r.max.x)/2,y:(r.min.y+r.max.y)/2}},this.intersect=function(e){return!(r.max.x<e.min.x||e.max.x<r.min.x||r.max.y<e.min.y||e.max.y<r.min.y)},this.contains=function(t){return e.regionContains(r,t)}}return e.regionContains=function(e,t){return e.min.x<=t.x&&t.x<=e.max.x&&e.min.y<=t.y&&t.y<=e.max.y},e}();t.Region=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextProvider=void 0;var i=function(){function e(e){this._context=e}return e.prototype.switchContext=function(e){this._context=e},Object.defineProperty(e.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),e}();t.ContextProvider=i},function(e,t,n){"use strict";var i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i};Object.defineProperty(t,"__esModule",{value:!0}),t.EventBus=void 0;var r=function(){function e(){this.topics={},this.externalSubscribers={},this.que=[]}return e.prototype.subscribe=function(e,t){this.topics[e]||(this.topics[e]=[]),this.topics[e].push(t)},e.prototype.publish=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(this.que.push({topic:e,args:t}),!(this.que.length>1))for(var r=function(){var e=o.que[0];i(o.topics[e.topic]||[],o.externalSubscribers[e.topic]||[]).forEach((function(t){return t.apply(void 0,e.args)})),o.que.shift()},o=this;this.que.length>0;)r()},e.prototype.on=function(e,t){var n=this;return this.externalSubscribers[e]||(this.externalSubscribers[e]=[]),this.externalSubscribers[e].push(t),function(){return n.off(e,t)}},e.prototype.off=function(e,t){this.externalSubscribers[e]&&(this.externalSubscribers[e]=this.externalSubscribers[e].filter((function(e){return e!==t})))},e}();t.EventBus=r},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.StateManager=void 0;var r=n(1),o=n(0),s=n(34),a=n(36),u=n(37),d=n(38),c=n(39),l=n(40),h=n(5),p=n(41),f=n(42),v=n(43),g=function(){function e(e,t,n,i,o,g){var m=this;this.eventBus=e,this.theme=t,this.connectionFunction=n,this.disableLinkOperations=i,this.getHostElement=o,this.pureState=function(){return m.state},this.requestSerialise=function(){m.eventBus.publish(r.DiagramEvents.SerialisationRequested)},this.rebuildTrees=function(){m.nodeManager.rebuildTree(),m.connectionManager.rebuildTree()},this.calculateAnimations=function(e){return m.uiManager.calculateAnimations(e)},this.centerGraph=function(){m.uiManager.centerPanTo(m.nodeManager.getCenter())},this.selectNode=function(e){m.nodeManager.selectSingleNode(e)},this.zeroGraph=function(){m.uiManager.panTo({x:3*-m.theme.node.width,y:3*-m.theme.node.height})},this.centerOnNode=function(e){m.state.nodes.indexOf(e)>-1&&m.eventBus.publish(r.DiagramEvents.CenterOnNode,e)},this.mouseDrag=function(e){var t=e.withoutPan,n=e.calculated;m.state.uiState.draggingMinimap||(m.state.selectedNodes.length>0?m.nodeManager.moveNodes(n):m.state.draw?(m.hoverManager.hover(n),m.connectionManager.drawConnector(n)):m.state.hover.link?m.connectionManager.moveLink(n):m.uiManager.panScreen(t))},this.areaResized=function(e){m.state.uiState.areaSize=e,m.eventBus.publish(r.DiagramEvents.RenderRequested)},this.worldToScreenCoordinates=function(e){return m.uiManager.worldToScreen(e)},this.openMenu=function(e){m.menuManager.openNewNodeMenu(e)},this.state={links:[],nodes:[],nodeDefinitions:[],categories:[],selectedLinks:[],selectedNodes:[],hover:{},hoverMinimap:!1,trees:{node:new h.QuadTree,link:new h.QuadTree},uiState:{minimapActive:!0,panX:0,panY:0,scale:1,lastDragPosition:{x:0,y:0},areaSize:g,draggingWorld:!1,draggingElements:!1,draggingMinimap:!1,animatingPan:!1},screenShotInProgress:!1},this.htmlManager=new f.HtmlManager(this.state,this.eventBus,this.getHostElement,this.theme),this.descriptionManager=new v.DescriptionManager(this.state,this.eventBus,this.htmlManager),this.uiManager=new u.UIManager(this.state.uiState,this.eventBus,this.theme),this.connectionManager=new a.ConnectionManager(this.eventBus,this.state,this.theme,this.connectionFunction),this.menuManager=new l.MenuManager(this.state,this.eventBus,this.uiManager,this.htmlManager),this.nodeManager=new s.NodeManager(this.state,this.eventBus,this.uiManager,this.theme,this.connectionManager,this.htmlManager,this.descriptionManager),new d.MinimapManager(this.state,this.eventBus,this.theme),this.hoverManager=new c.HoverManager(this.state,this.eventBus,this.theme,this.disableLinkOperations),new p.ChangesManager(this.state,this.eventBus),this.eventBus.subscribe(r.IOEvents.WorldMouseDrag,this.mouseDrag),this.eventBus.subscribe(r.DiagramEvents.RebuildTreeRequested,this.rebuildTrees)}return e.prototype.getState=function(){return i(i({},this.state),{isNodeMenuOpened:this.menuManager.activeNodeMenu})},e.prototype.setDefinitions=function(e){this.state.nodeDefinitions=e;for(var t=0,n=this.state.nodeDefinitions;t<n.length;t++){var i=n[t];i.id||(i.id=o.Utils.generateId())}},e.prototype.setNodes=function(e){this.nodeManager.loadNodes(e)},e.prototype.setLinks=function(e){this.connectionManager.loadLinks(e)},e.prototype.setReadOnly=function(e){this.state.isReadOnly=e},e.prototype.setScreenShotInProgress=function(e){this.state.screenShotInProgress=e},e.prototype.isScreenShotInProgress=function(){return this.state.screenShotInProgress},e}();t.StateManager=g},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeManager=void 0;var o=n(1),s=n(0),a=n(5),u=n(35),d=function(e,t,n,d,c,l,h){var p=this;this.state=e,this.eventBus=t,this.uiManager=n,this.theme=d,this.connectionManager=c,this.htmlManager=l,this.descriptionManager=h,this.storeSelectedNodesRelativePosition=[],this.handleScreenLeave=function(){p.state.uiState.draggingElements&&(p.state.uiState.draggingElements=!1,p.movedNodes())},this.rebuildTree=function(){p.state.trees.node=new a.QuadTree,p.state.nodes.filter((function(e){return!e.hidden})).forEach((function(e){return p.state.trees.node.insert(s.NodeUtils.createTreeNode(e,p.theme))}))},this.loadNodes=function(e){p.state.nodes=e,p.state.selectedNodes=[],p.rebuildTree()},this.storeNodes=function(e){var t=e[0];p.storeSelectedNodesRelativePosition=p.state.selectedNodes.map((function(e){return{x:t.x-e.x,y:t.y-e.y}}))},this.moveNodes=function(e){if(!p.state.isReadOnly&&!p.state.renamed){var t=p.state.selectedNodes;if(t.length){p.state.uiState.draggingElements=!0;for(var n=0;n<t.length;n++){var r=t[n],s=p.storeSelectedNodesRelativePosition[n];s&&(r.x=e.x-s.x,r.y=e.y-s.y)}p.state.uiState.lastDragPosition=i({},e),p.eventBus.publish(o.DiagramEvents.RenderRequested)}}},this.movedNodes=function(){var e=p.state.selectedNodes;e.length&&(p.rebuildTree(),p.eventBus.publish(o.DiagramEvents.NodeMoved,e))},this.beautifyNodesInPlace=function(e){var t=s.NodeUtils.graphFromNode(e),n=t.center,i=n.x,r=n.y,a=s.NodeUtils.positionGraph(t,p.theme),u=i-a.center.x,d=r-a.center.y;a.nodes.forEach((function(e){e.x+=u,e.y+=d})),p.eventBus.publish(o.DiagramEvents.RebuildTreeRequested),p.eventBus.publish(o.DiagramEvents.RenderRequested)},this.deleteSelectedNodes=function(){p.deleteNodes(p.state.selectedNodes)},this.openNodeMenu=function(e){if(!p.state.isReadOnly&&!p.state.draw){var t=p.state.hover,n=t.node,i=t.io;if(n&&!p.state.menu){p.state.categories=[{name:"delete",help:"Delete all selected nodes. If you are deleting object definitions it will delete instances of this object also",action:function(){p.state.selectedNodes.indexOf(n)>-1?p.deleteSelectedNodes():p.deleteNodes([n])}},{name:"beautify graph",help:"Beautify graph and put nodes in good positions",action:function(){p.beautifyNodesInPlace(n)}},{name:"select graph",help:"Select all nodes in graph",action:function(){p.graphSelect(e)}},{name:n.hideChildren?"unfold":"fold",help:(n.hideChildren?"unfold":"fold")+" children in graph",action:function(){if(!i&&n){if(n.hideChildren)return void p.foldChildren(n,!0);p.foldChildren(n)}}}];var r=n.definition.options;r&&(p.state.categories=p.state.categories.concat(r.map((function(e){var t=e.help,i=e.name;return{name:i,help:t,action:function(){var e=n.options.findIndex((function(e){return e===i}));if(-1!==e)return n.options.splice(e,1),p.eventBus.publish(o.DiagramEvents.NodeChanged),void p.eventBus.publish(o.DiagramEvents.RenderRequested);n.options.push(i),p.eventBus.publish(o.DiagramEvents.NodeChanged),p.eventBus.publish(o.DiagramEvents.RenderRequested)}}}))));var s=n.definition.categories||n.definition.parent&&n.definition.parent.categories;s&&s.node&&(p.state.categories=p.state.categories.concat(s.node)),p.eventBus.publish(o.DiagramEvents.MenuRequested,e)}}},this.graphSelect=function(e){var t=p.state.hover,n=t.node,i=t.io;if(n&&!i){var r=s.NodeUtils.graphFromNode(n);p.state.selectedNodes=r.nodes,p.eventBus.publish(o.DiagramEvents.RenderRequested)}},this.foldChildren=function(e,t){var n=s.NodeUtils.findAllConnectedNodes(e).filter((function(t){return t!==e}));n.length>0&&(n.forEach((function(e){e.hidden=!t})),e.hideChildren=!t),p.eventBus.publish(o.DiagramEvents.RebuildTreeRequested),p.eventBus.publish(o.DiagramEvents.RenderRequested)},this.selectSingleNode=function(e){p.state.selectedNodes=[e]},this.goToNodeType=function(e){var t=p.state.hover,n=t.type,i=t.node;if(n&&i&&i.definition.parent){var r=p.state.nodes.find((function(e){return!!e.editsDefinitions&&!!e.editsDefinitions.find((function(e){return e===i.definition}))}));r&&(p.selectSingleNode(r),p.eventBus.publish(o.DiagramEvents.CenterOnNode,r))}},this.selectNode=function(e){var t=p.state.hover,n=t.node,i=t.io,s=t.type;if(!n||i||s)p.state.selectedNodes=[];else if(e.shiftKey){var a=p.state.selectedNodes.indexOf(n);if(-1!==a)return void p.state.selectedNodes.splice(a);p.state.selectedNodes.push(n)}else 1!==p.state.selectedNodes.length&&-1!==p.state.selectedNodes.indexOf(n)||p.selectSingleNode(n);p.eventBus.publish(o.DiagramEvents.NodeSelected,[e,r(p.state.selectedNodes)]),p.eventBus.publish(o.DiagramEvents.RenderRequested)},this.placeConnectedNode=function(e,t){var n=e.x,i=e.y-2*p.theme.node.height,r=p.theme.node.width+p.theme.port.width+p.theme.node.spacing.x;if("i"===t){for(var o=0,s=e.inputs;o<s.length;o++){var a=s[o];i=a.y>i?a.y:i}n-=r}if("o"===t){for(var u=0,d=e.outputs;u<d.length;u++){var c=d[u];i=c.y>i?c.y:i}n+=p.theme.node.width+r}i+=p.theme.node.height+p.theme.node.spacing.y;var l=p.state.nodes.filter((function(e){return Math.abs(e.y-i)<p.theme.node.height&&Math.abs(e.x-n)<p.theme.node.width}));return l.length&&(i=Math.max.apply(Math,l.map((function(e){return e.y}))),i+=p.theme.node.height+p.theme.node.spacing.y),{x:n,y:i}},this.deleteNodes=function(e){var t=e.filter((function(e){return!e.readonly})),n=t.filter((function(e){return e.editsDefinitions})).map((function(e){return e.editsDefinitions})).reduce((function(e,t){return e.concat(t)}),[]);t=t.concat(p.state.nodes.filter((function(e){return n.find((function(t){return t===e.definition}))}))),p.state.nodeDefinitions=p.state.nodeDefinitions.filter((function(e){return!n.find((function(t){return t===e}))})),p.state.selectedNodes=p.state.selectedNodes.filter((function(e){return!t.find((function(t){return t===e}))})),p.state.nodes=p.state.nodes.filter((function(e){return!t.find((function(t){return t===e}))})),p.rebuildTree(),p.descriptionManager.clearDescription(),p.eventBus.publish(o.DiagramEvents.NodeDeleted,t),p.eventBus.publish(o.DiagramEvents.RenderRequested)},this.createNode=function(e,t){var n=s.NodeUtils.createNode(e,t,p.state.nodeDefinitions);return p.state.nodes.push(n),p.state.trees.node.insert(s.NodeUtils.createTreeNode(n,p.theme)),p.selectSingleNode(n),p.eventBus.publish(o.DiagramEvents.NodeCreated,n),n.name||n.notEditable||n.readonly||p.renameManager.startRenaming(n),p.state.hover.node=void 0,p.eventBus.publish(o.DiagramEvents.RenderRequested),n},this.getCenter=function(){var e=[],t=[];return p.state.nodes.forEach((function(n){return e.push(n.x)&&t.push(n.y)})),{x:.5*(Math.max.apply(Math,e)+Math.min.apply(Math,e)),y:.5*(Math.max.apply(Math,t)+Math.min.apply(Math,t))}},this.openPortMenu=function(e){if(p.state.isReadOnly||p.state.menu||p.state.drawedConnection)p.state.drawedConnection=void 0;else{p.eventBus.publish(o.DiagramEvents.PickRequested,e);var t=p.state.hover,n=t.io,r=t.node;if(r&&n){var a=function(e){if(e.definition)return{name:(t=e.definition).type,help:t.help,action:function(){r.hideChildren&&p.foldChildren(r,!0);var e=p.createNode(p.placeConnectedNode(r,n),t);p.connectionManager.makeConnection("i"===n?r:e,"o"===n?r:e),p.theme.autoBeuatify&&(p.beautifyNodesInPlace(e),p.htmlManager.nodeMoved())}};var t;if(!e.category)throw new Error("Cannot create Topic category out of this: "+JSON.stringify(e,null,4)+" ");return{name:e.category.name,children:e.category.definitions.map(a)}},u=r.definition;"i"===n&&r.inputs?p.state.categories=s.NodeUtils.getDefinitionAcceptedInputCategories(u,p.state.nodeDefinitions,void 0,p.state.nodes,r).map(a):"o"===n&&r.outputs&&(p.state.categories=s.NodeUtils.getDefinitionAcceptedOutputCategories(u,p.state.nodeDefinitions,void 0,p.state.nodes,r).map(a));var d=r.definition.categories;d&&("i"===n&&d.inputs&&(p.state.categories=p.state.categories.concat(d.inputs)),"o"===n&&d.outputs&&(p.state.categories=p.state.categories.concat(d.outputs)));var c=p.uiManager.worldToScreen(i(i({},e),{x:r.x,y:r.y}));p.state.hover={},p.eventBus.publish(o.DiagramEvents.MenuRequested,c)}}},this.eventBus.subscribe(o.IOEvents.WorldLeftMouseClick,this.selectNode),this.eventBus.subscribe(o.IOEvents.WorldLeftMouseClick,this.goToNodeType),this.eventBus.subscribe(o.IOEvents.ScreenRightMouseUp,this.openNodeMenu),this.eventBus.subscribe(o.IOEvents.ScreenMouseLeave,this.handleScreenLeave),this.eventBus.subscribe(o.IOEvents.WorldLeftMouseUp,this.openPortMenu),this.eventBus.subscribe(o.DiagramEvents.NodeCreationRequested,this.createNode),this.eventBus.subscribe(o.IOEvents.WorldMouseDragEnd,this.movedNodes),this.eventBus.subscribe(o.DiagramEvents.NodeSelected,this.storeNodes),this.eventBus.subscribe(o.IOEvents.BackspacePressed,this.deleteSelectedNodes),this.renameManager=new u.RenameManager(e,this.eventBus,this.htmlManager)};t.NodeManager=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenameManager=void 0;var i=n(1),r=n(3),o=n(0).Utils.getUniquePrefix("RenameManager"),s=function(e){return{position:"fixed",transformOrigin:"top left",width:e.node.width/2+"px",height:e.node.height/2+"px",fontSize:e.node.nameSize/2+"px",fontFamily:e.fontFamily,background:"transparent",color:e.colors.node.name,textAlign:"center",border:"0",outline:"0"}},a=function(){function e(t,n,o){var a=this;this.state=t,this.eventBus=n,this.htmlManager=o,this.registeredRenameElement=null,this.nodeMoving=function(){a.state.renamed&&a.registeredRenameElement&&a.state.selectedNodes.indexOf(a.state.renamed)>-1&&(a.registeredRenameElement.refs.input.style.pointerEvents="none")},this.nodeMoved=function(){a.state.renamed&&a.registeredRenameElement&&(a.registeredRenameElement.refs.input.style.pointerEvents="all")},this.preventCurrentEvent=function(){window.event&&window.event.preventDefault()},this.tryToRenameNode=function(){if(!(0==a.state.selectedNodes.length||a.state.selectedNodes.length>1)){var e=a.state.selectedNodes[0];!e||e.readonly||a.state.isReadOnly||e.notEditable?a.preventCurrentEvent():a.startRenaming(e)}},this.startRenaming=function(t){a.state.renamed=t,a.clearRenameInputs();var n=t.x,r=t.y,o=a.htmlManager.createElementFromHTML('\n      <input class="'+e.containerClassName+'" data-ref="input" value="'+t.name+'"/>\n    ',n,r,!0,{x:0,y:-1},t),s=o.refs;window.requestAnimationFrame((function(){s.input.select()}));var u=function(){s.input.removeEventListener("blur",u),a.finalizeRenaming(s.input.value)};s.input.addEventListener("blur",u),s.input.addEventListener("keydown",(function(e){"Enter"===e.key&&u(),"Escape"===e.key&&(s.input.removeEventListener("blur",u),a.cancelRenaming())})),a.registeredRenameElement=o,a.eventBus.publish(i.DiagramEvents.RenderRequested)},this.clearRenameInputs=function(){a.registeredRenameElement&&a.registeredRenameElement.remove()},this.cancelRenaming=function(){delete a.state.renamed,a.clearRenameInputs(),a.eventBus.publish(i.DiagramEvents.RenderRequested)},this.finalizeRenaming=function(e){if(a.state.renamed){var t=a.state.renamed;if(a.state.isReadOnly||t.notEditable||t.readonly)return;t.name=e,t.editsDefinitions&&t.editsDefinitions.forEach((function(t){return t.type=e})),a.eventBus.publish(i.DiagramEvents.NodeChanged),a.eventBus.publish(i.DiagramEvents.RenderRequested)}delete a.state.renamed,a.clearRenameInputs(),a.eventBus.publish(i.DiagramEvents.RenderRequested)},this.nodeSelectionChange=function(){0===a.state.selectedNodes.length||a.state.selectedNodes.length>1?a.clearRenameInputs():a.startRenaming(a.state.selectedNodes[0])},this.state,this.htmlManager,this.eventBus.subscribe(i.IOEvents.ScreenDoubleClick,this.tryToRenameNode),this.eventBus.subscribe(i.IOEvents.WorldMouseDrag,this.nodeMoving),this.eventBus.subscribe(i.DiagramEvents.NodeMoved,this.nodeMoved),r.CSSMiniEngine.instance.addClass(s,e.containerClassName)}return e.containerClassName=o+"Container",e}();t.RenameManager=a},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionManager=void 0;var r=n(1),o=n(0),s=n(0),a=n(5),u=function(e,t,n,u){var d=this;this.eventBus=e,this.state=t,this.theme=n,this.connectionFunction=u,this.loadLinks=function(e){d.state.links=e,d.rebuildTree()},this.rebuildTree=function(){d.state.trees.link=new a.QuadTree,d.state.links.filter((function(e){return!(e.i.hidden||e.o.hidden)})).forEach((function(e){return d.state.trees.link.insert(s.LinkUtils.linkToTree(e,d.theme))}))},this.onNodesDelete=function(e){d.deleteLinks(d.state.links.filter((function(t){return e.find((function(e){return e===t.i||e===t.o}))})))},this.deleteLinks=function(e){d.state.links=d.state.links.filter((function(t){return!e.find((function(e){return e===t}))})),e.forEach((function(e){var t,n;e.o.outputs=null===(t=e.o.outputs)||void 0===t?void 0:t.filter((function(t){return t!==e.i})),e.i.inputs=null===(n=e.i.inputs)||void 0===n?void 0:n.filter((function(t){return t!==e.o}))})),d.rebuildTree(),d.eventBus.publish(r.DiagramEvents.RenderRequested),d.eventBus.publish(r.DiagramEvents.LinkDeleted)},this.openLinkMenu=function(){var e=d.state.hover.link;d.state.isReadOnly||!e||d.state.menu||(d.state.categories=[{name:"delete",action:function(){return d.deleteLinks([e])}}],d.state.menu=!0)},this.startDrawingConnector=function(e){if(!d.state.isReadOnly){var t=d.state.hover,n=t.io,i=t.node,r=t.menu;if(n&&i&&!r)return d.state.draw={node:i,io:n,initialPos:e},void(d.state.uiState.draggingElements=!0);d.state.draw=void 0}},this.drawConnector=function(e){if(d.state.draw){var t=d.state.draw,n=t.io,o=t.node;n&&o&&(d.state.drawedConnection=i({},e),d.eventBus.publish(r.DiagramEvents.RenderRequested))}},this.cancelDrawing=function(){d.state.draw=void 0},this.makeConnection=function(e,t){if(d.connectionFunction(e,t)&&!d.state.links.find((function(n){return n.i===e&&n.o===t}))&&function(){var n=o.NodeUtils.getDefinitionAcceptedInputs(e.definition,d.state.nodeDefinitions,t.definition,d.state.nodes,e);if(!n)return!1;for(var i=0,r=n;i<r.length;i++){var s=r[i];if(s.type===t.definition.type)return!0;if(t.definition.parent&&s.type===t.definition.parent.type)return!0}return!1}()){var n={o:t,i:e,centerPoint:d.theme.link.defaultCenterPoint,circularReference:e.id===t.id};if(d.state.links.push(n),!e.inputs||!t.outputs)throw new Error("Cannot make a connection");return e.inputs.push(t),t.outputs.push(e),d.state.trees.link.insert(d.linkToTree(n)),d.eventBus.publish(r.DiagramEvents.LinkCreated),n}d.eventBus.publish(r.DiagramEvents.RenderRequested)},this.onNodeMoved=function(e){for(var t=0,n=d.state.links.filter((function(t){return e.find((function(e){return e===t.i||e===t.o}))})).map(d.linkToTree);t<n.length;t++){var i=n[t];d.state.trees.link.update(i.data,{x:i.bb.min.x,y:i.bb.min.y},i.bb)}},this.moveLink=function(e){var t=d.state.hover.link;t&&(d.state.uiState.draggingElements?(t.centerPoint=o.Utils.clamp(s.LinkUtils.calculateLinkCenterPoint(t,e,d.theme),.1,.9),d.state.uiState.lastDragPosition=i({},e),d.eventBus.publish(r.DiagramEvents.RenderRequested)):d.state.uiState.draggingElements=!0)},this.movedLink=function(){var e=d.state.hover.link;if(e){var t=d.linkToTree(e);d.state.trees.link.update(e,{x:d.state.uiState.lastDragPosition.x,y:d.state.uiState.lastDragPosition.y},t.bb),d.eventBus.publish(r.DiagramEvents.LinkMoved)}},this.linkToTree=function(e){return s.LinkUtils.linkToTree(e,d.theme)},this.endDrawingConnector=function(){if(d.state.draw){if(d.state.hover.io&&d.state.hover.io!==d.state.draw.io&&d.state.hover.node&&d.state.draw.node){var e="i"===d.state.hover.io?d.state.hover.node:d.state.draw.node,t="o"===d.state.hover.io?d.state.hover.node:d.state.draw.node;d.makeConnection(e,t)}d.cancelDrawing(),d.eventBus.publish(r.DiagramEvents.RenderRequested)}},this.eventBus.subscribe(r.IOEvents.WorldLeftMouseClick,this.startDrawingConnector),this.eventBus.subscribe(r.IOEvents.WorldMouseDragEnd,this.endDrawingConnector),this.eventBus.subscribe(r.DiagramEvents.NodeMoved,this.onNodeMoved),this.eventBus.subscribe(r.IOEvents.WorldMouseDragEnd,this.movedLink),this.eventBus.subscribe(r.IOEvents.ScreenRightMouseClick,this.openLinkMenu),this.eventBus.subscribe(r.DiagramEvents.NodeDeleted,this.onNodesDelete)};t.ConnectionManager=u},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.UIManager=void 0;var r=n(1),o=n(2),s=function(){function e(e,t,n){var s=this;this.state=e,this.eventBus=t,this.theme=n,this.mouseWheel=function(e,t,n){if(s.state.animatingPan)return!1;var i=e/-800,o=s.state.scale+i;o<.3&&(o=.3),o>1.5&&(o=1.5),s.state.panX=s.state.panX+t/o-t/s.state.scale,s.state.panY=s.state.panY+n/o-n/s.state.scale,s.state.scale=o,s.eventBus.publish(r.DiagramEvents.RenderRequested),s.eventBus.publish(r.DiagramEvents.ViewModelChanged,s.getViewModel())},this.calculateAnimations=function(e){if(!s.state.animatingPan)return!1;if(s.state.targetPanX&&s.state.targetPanY&&s.state.panX&&s.state.panY){var t=[s.state.targetPanX-s.state.panX,s.state.targetPanY-s.state.panY],n=t[0],i=t[1];return Math.abs(n)<2&&Math.abs(i)<2?(s.state.panX=s.state.targetPanX,s.state.panY=s.state.targetPanY,s.state.animatingPan=!1,!1):(s.state.panX+=n/Math.max(s.autoPanSmoothing/e,1),s.state.panY+=i/Math.max(s.autoPanSmoothing/e,1),s.eventBus.publish(r.DiagramEvents.RenderRequested),!0)}},this.worldToScreen=function(e){return{x:(e.x+s.state.panX)*s.state.scale,y:(e.y+s.state.panY)*s.state.scale,shiftKey:e.shiftKey}},this.screenToWorld=function(e){return{x:e.x/s.state.scale-s.state.panX,y:e.y/s.state.scale-s.state.panY,shiftKey:e.shiftKey}},this.centerOnNode=function(e){s.autoPanSmoothing?(s.state.targetPanX=-(e.x+s.theme.node.width/2)+s.state.areaSize.width/2/s.state.scale,s.state.targetPanY=-(e.y+s.theme.node.height/2)+s.state.areaSize.height/2/s.state.scale,s.state.animatingPan=!0):(s.state.panX=-(e.x+s.theme.node.width/2)+s.state.areaSize.width/2/s.state.scale,s.state.panY=-(e.y+s.theme.node.height/2)+s.state.areaSize.height/2/s.state.scale),s.eventBus.publish(r.DiagramEvents.RenderRequested)},this.calculateMinimapPosition=function(e){var t=s.state.areaSize.width-s.theme.minimap.size-s.theme.minimap.margin,n=s.state.areaSize.width-s.theme.minimap.margin,i=s.theme.minimap.margin,r=s.theme.minimap.margin+s.theme.minimap.size;return e.x>t&&e.x<n&&e.y>i&&e.y<r?{x:e.x-t,y:e.y-i}:null},this.mouseOverMove=function(e){s.calculateMinimapPosition(e)&&!s.state.draggingWorld||s.eventBus.publish(r.IOEvents.WorldMouseOverMove,s.screenToWorld(e))},this.mouseMove=function(e){var t=s.calculateMinimapPosition(e);!t||s.state.draggingWorld?s.eventBus.publish(r.IOEvents.WorldMouseMove,s.screenToWorld(e)):s.eventBus.publish(r.IOEvents.MinimapMouseMove,t)},this.mouseDrag=function(e){if(!s.calculateMinimapPosition(e)||s.state.draggingElements){var t=s.screenToWorld(e);s.eventBus.publish(r.IOEvents.WorldMouseDrag,{withoutPan:{x:t.x+s.state.panX,y:t.y+s.state.panY,shiftKey:t.shiftKey},calculated:t})}},this.LMBUp=function(e){s.state.draggingElements&&s.eventBus.publish(r.IOEvents.WorldMouseDragEnd),s.state.draggingWorld&&s.eventBus.publish(r.DiagramEvents.ViewModelChanged,s.getViewModel()),s.eventBus.publish(r.IOEvents.WorldLeftMouseUp,s.screenToWorld(e)),s.state.draggingWorld=!1,s.state.draggingElements=!1,s.state.draggingMinimap=!1},this.LMBPressed=function(e){var t=s.calculateMinimapPosition(e);t?s.eventBus.publish(r.IOEvents.MinimapLeftMouseClick,t):(s.state.lastDragPosition={x:e.x/s.state.scale,y:e.y/s.state.scale},s.eventBus.publish(r.IOEvents.WorldLeftMouseClick,s.screenToWorld(e),{x:s.state.panX,y:s.state.panY}))},this.panScreen=function(e){s.state.lastDragPosition&&(s.state.animatingPan=!1,s.state.draggingWorld=!0,s.state.panX-=s.state.lastDragPosition.x-e.x,s.state.panY-=s.state.lastDragPosition.y-e.y,s.state.lastDragPosition=i({},e),s.eventBus.publish(r.DiagramEvents.RenderRequested))},this.panTo=function(e){s.state.panX=-e.x,s.state.panY=-e.y,s.eventBus.publish(r.DiagramEvents.RenderRequested)},this.centerPanTo=function(e){s.state.panX=-e.x+s.state.areaSize.width/2,s.state.panY=-e.y+s.state.areaSize.height/2,s.eventBus.publish(r.DiagramEvents.RenderRequested)},this.eventBus.subscribe(r.IOEvents.ScreenMouseMove,this.mouseMove),this.eventBus.subscribe(r.IOEvents.ScreenMouseOverMove,this.mouseOverMove),this.eventBus.subscribe(r.IOEvents.ScreenMouseWheel,this.mouseWheel),this.eventBus.subscribe(r.IOEvents.ScreenMouseDrag,this.mouseDrag),this.eventBus.subscribe(r.IOEvents.ScreenLeftMouseClick,this.LMBPressed),this.eventBus.subscribe(r.IOEvents.ScreenLeftMouseUp,this.LMBUp),this.eventBus.subscribe(r.DiagramEvents.PanRequested,this.panTo),this.eventBus.subscribe(r.DiagramEvents.CenterPanRequested,this.centerPanTo),this.eventBus.subscribe(r.DiagramEvents.CenterOnNode,this.centerOnNode),this.autoPanSmoothing=o.ConfigurationManager.instance.getOption("autoPanSmoothing")}return e.prototype.getViewModel=function(){return{pan:{x:this.state.panX,y:this.state.panY},scale:this.state.scale}},e}();t.UIManager=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MinimapManager=void 0;var i=n(1),r=n(0),o=function(){function e(e,t,n){var r=this;this.state=e,this.eventBus=t,this.theme=n,this.minimapLeftMouseClick=function(){r.state.uiState.draggingMinimap=!0},this.minimapMouseMove=function(e){var t=e.x,n=e.y;r.state.uiState.draggingMinimap&&r.performPanning({x:t,y:n}),r.state.hoverMinimap=!0,r.state.hover.node=void 0,r.eventBus.publish(i.DiagramEvents.RenderRequested)},this.worldMouseMove=function(){r.state.hoverMinimap&&(r.state.hoverMinimap=!1,r.eventBus.publish(i.DiagramEvents.RenderRequested))},this.eventBus.subscribe(i.IOEvents.MinimapMouseMove,this.minimapMouseMove),this.eventBus.subscribe(i.IOEvents.MinimapLeftMouseClick,this.minimapLeftMouseClick),this.eventBus.subscribe(i.IOEvents.WorldMouseMove,this.worldMouseMove)}return e.prototype.performPanning=function(e){var t=r.MinimapUtils.getBoundingBoxViewport({x:this.state.uiState.panX,y:this.state.uiState.panY},this.state.uiState.scale,this.state.uiState.areaSize),n=r.MinimapUtils.getMiniMapBoundaries(t,this.state.uiState.areaSize),o=r.MinimapUtils.mapToWorldPoint(e,n,this.theme.minimap.size),s={x:-o.x+this.state.uiState.areaSize.width/2/this.state.uiState.scale,y:-o.y+this.state.uiState.areaSize.height/2/this.state.uiState.scale},a=r.MinimapUtils.getBoundingBoxViewport(s,this.state.uiState.scale,this.state.uiState.areaSize);(a.left<n.left||a.right>n.left+n.width)&&(s.x=this.state.uiState.panX),(a.top<n.top||a.bottom>n.top+n.height)&&(s.y=this.state.uiState.panY),this.state.uiState.panX=s.x,this.state.uiState.panY=s.y,this.eventBus.publish(i.DiagramEvents.RenderRequested)},e}();t.MinimapManager=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HoverManager=void 0;var i=n(1),r=function(e,t,n,r){var o=this;this.state=e,this.eventBus=t,this.theme=n,this.disableLinkOperations=r,this.somethingHovered=function(){for(var e=0,t=Object.keys(o.state.hover);e<t.length;e++){var n=t[e];if(o.state.hover.valueOf()[n])return!0}},this.hover=function(e){var t=o.state.trees.node.pick(e);if(!t){if(o.state.draw)return;var n=void 0;return o.disableLinkOperations||(n=o.state.trees.link.pick(e)),o.state.hover={link:n},void o.eventBus.publish(i.DiagramEvents.RenderRequested)}var r=e.x-t.x,s=e.y-t.y,a=r>o.theme.node.width&&t.outputs?"o":r<0&&t.inputs?"i":void 0,u=s<0||void 0;o.state.hover.io===a&&o.state.hover.node===t&&o.state.hover.type===u||(o.state.hover={node:t,type:u},o.state.isReadOnly||(o.state.hover.io=a),o.eventBus.publish(i.DiagramEvents.RenderRequested))},this.eventBus.subscribe(i.IOEvents.WorldMouseOverMove,this.hover),this.eventBus.subscribe(i.DiagramEvents.PickRequested,this.hover)};t.HoverManager=r},function(e,t,n){"use strict";var i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i};Object.defineProperty(t,"__esModule",{value:!0}),t.MenuManager=void 0;var r=n(1),o=n(0),s=n(3),a=o.Utils.getUniquePrefix("MenuManager"),u=function(e){return s.CSSMiniEngine.createStyle({position:"fixed",background:e.colors.menu.background,border:e.colors.menu.borders?"0.5px solid "+e.colors.menu.borders:"",padding:e.menu.padding,borderRadius:e.menu.borderRadius,width:e.menu.width?e.menu.width+"px":"auto",maxWidth:e.menu.maxWidth+"px",maxHeight:e.menu.maxHeight+"px",overflowY:"auto",zIndex:"100"})},d=function(e){return s.CSSMiniEngine.createStyle({position:"relative",textAlign:"left",verticalAlign:"middle",color:e.colors.menu.text,fontFamily:e.fontFamily,fontSize:e.menu.category.fontSize,fontWeight:e.menu.category.fontWeight,padding:e.menu.category.padding,transition:"all 0.25s",cursor:"pointer"})},c=function(e){return s.CSSMiniEngine.createStyle({position:"relative",textTransform:"uppercase",verticalAlign:"middle",color:e.colors.menu.title,fontFamily:e.fontFamily,fontSize:e.menu.title.fontSize,padding:e.menu.category.padding,cursor:"pointer",marginBottom:"10px",fontWeight:e.menu.title.fontWeight})},l=function(e){return s.CSSMiniEngine.createStyle({color:e.colors.menu.hover})},h=function(){function e(t,n,o,a){var h=this;this.state=t,this.eventBus=n,this.uiManager=o,this.htmlManager=a,this.activeMenu=null,this.activeNodeMenu=!1,this.activeCategories=[],this.activeMenuPosition={x:0,y:0},this.clickMenuItem=function(e){e.action?(e.action(),h.closeMenus()):e.children&&(h.state.categories=e.children,h.openMenu(h.activeMenuPosition))},this.closeMenus=function(){h.htmlManager.hideHelp(),h.activeMenu&&(h.activeMenu.remove(),h.activeMenu=null,h.activeNodeMenu=!1)},this.openNewNodeMenu=function(e){if(!h.state.isReadOnly&&!h.state.draw){var t=h.state.hover,n=t.node,i=t.link;if(n)h.activeNodeMenu=!0;else if(!n&&!i){var o=h.uiManager.screenToWorld(e);h.state.categories=h.state.nodeDefinitions.filter((function(e){return e.root})).filter((function(e){return!e.hidden})).map((function(e){return{name:e.type,help:e.help,action:function(){h.eventBus.publish(r.DiagramEvents.NodeCreationRequested,o,e)}}})),h.openMenu(e)}}},this.openMenu=function(t){if(h.closeMenus(),!(h.state.categories.length<1||h.state.isReadOnly||h.state.draw)){h.activeMenuPosition=t;var n=h.uiManager.screenToWorld(t);h.activeCategories=i(h.state.categories);var o=h.state.categories.map((function(t,n){return'<div class="'+e.menuElementClassName+'" data-ref="category-btn">'+t.name+"</div>"})).join("");h.activeMenu=h.htmlManager.createElementFromHTML('\n        <div class="'+e.menuBaseClassName+'" data-ref="root">\n          <div class="'+e.menuTitleClassName+'">Create Node</div>\n          '+o+"\n        </div>\n        ",n.x,n.y,!1,{x:0,y:0}),h.activeMenu.refs.root.querySelectorAll("."+e.menuElementClassName).forEach((function(t,n){var i=h.activeCategories[n];t.addEventListener("click",(function(){h.eventBus.publish(r.DiagramEvents.MenuItemClicked,i)})),t.addEventListener("mouseenter",(function(n){t.classList.add(e.menuElementHoverClassName),i.help&&h.htmlManager.renderHelp({text:i.help||"",title:i.name})})),t.addEventListener("mouseleave",(function(){t.classList.remove(e.menuElementHoverClassName),h.htmlManager.hideHelp()}))})),h.eventBus.publish(r.DiagramEvents.RenderRequested)}},this.eventBus.subscribe(r.DiagramEvents.MenuRequested,this.openMenu),this.eventBus.subscribe(r.DiagramEvents.MenuItemClicked,this.clickMenuItem),this.eventBus.subscribe(r.IOEvents.WorldLeftMouseClick,this.closeMenus),this.eventBus.subscribe(r.IOEvents.ScreenRightMouseUp,this.openNewNodeMenu),s.CSSMiniEngine.instance.addClass(u,e.menuBaseClassName),s.CSSMiniEngine.instance.addClass(d,e.menuElementClassName),s.CSSMiniEngine.instance.addClass(c,e.menuTitleClassName),s.CSSMiniEngine.instance.addClass(l,e.menuElementHoverClassName)}return e.menuTitleClassName=a+"Title",e.menuBaseClassName=a+"Base",e.menuElementClassName=a+"Element",e.menuElementHoverClassName=a+"ElementHover",e}();t.MenuManager=h},function(e,t,n){"use strict";var i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i};Object.defineProperty(t,"__esModule",{value:!0}),t.ChangesManager=void 0;var r=n(1),o=function(e,t){var n=this;this.state=e,this.eventBus=t,this.past=[{nodes:[],links:[]}],this.future=[],this.dataChange=function(){n.snapshot("past");var e={nodes:n.state.nodes,links:n.state.links};n.eventBus.publish(r.DiagramEvents.DataModelChanged,e)},this.positionChange=function(){var e={nodes:n.state.nodes,links:n.state.links};n.eventBus.publish(r.DiagramEvents.ViewModelChanged,e)},this.unsnap=function(e){var t=n[e].pop();if(!t)throw new Error("Cannot make undo snapshot");n.snapshot("past"===e?"future":"past"),n.state.nodes=i(t.nodes),n.state.links=i(t.links),n.eventBus.publish(r.DiagramEvents.RebuildTreeRequested),n.eventBus.publish(r.DiagramEvents.RenderRequested),n.eventBus.publish(r.DiagramEvents.SerialisationRequested)},this.undo=function(){n.past.length>1&&(n.past.pop(),n.unsnap("past"))},this.redo=function(){n.future.length>0&&n.unsnap("future")},this.snapshot=function(e,t){t&&(delete n[t],n[t]=[]),n[e].length>50&&n[e].shift(),n[e].push({nodes:i(n.state.nodes),links:i(n.state.links)})},this.eventBus.subscribe(r.DiagramEvents.DescriptionRenameEnded,this.dataChange),this.eventBus.subscribe(r.DiagramEvents.NodeCreated,this.dataChange),this.eventBus.subscribe(r.DiagramEvents.NodeDeleted,this.dataChange),this.eventBus.subscribe(r.DiagramEvents.NodeChanged,this.dataChange),this.eventBus.subscribe(r.DiagramEvents.LinkCreated,this.dataChange),this.eventBus.subscribe(r.DiagramEvents.LinkDeleted,this.dataChange),this.eventBus.subscribe(r.DiagramEvents.UndoRequested,this.undo),this.eventBus.subscribe(r.DiagramEvents.RedoRequested,this.redo),this.eventBus.subscribe(r.DiagramEvents.SerialisationRequested,this.dataChange),this.eventBus.subscribe(r.DiagramEvents.LinkMoved,this.positionChange),this.eventBus.subscribe(r.DiagramEvents.NodeMoved,this.positionChange)};t.ChangesManager=o},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlManager=void 0;var r=n(1),o=n(3),s=n(0).Utils.getUniquePrefix("HtmlManager"),a=function(e){return{position:"absolute",left:"10px",top:"10px",right:e.minimap.size/2+20+"px",height:"auto",pointerEvents:"none",display:"none",fontFamily:e.fontFamily,padding:e.help.padding+"px",background:e.colors.help.background}},u=function(e){return{fontSize:e.help.title.text+"px",color:e.colors.help.title,marginBottom:"10px"}},d=function(e){return{fontSize:e.help.text+"px",color:e.colors.help.text,lineHeight:e.help.lineHeight+"px"}};var c=function(){function e(e,t,n,i){var c=this;this.state=e,this.eventBus=t,this.getHostElement=n,this.theme=i,this.created=!1,this.prepareHelpMarkup=function(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div");c.getHostElement().appendChild(n),n.className=s+"container",e.className=s+"title",t.className=s+"content",n.appendChild(e),n.appendChild(t),c.helpElements=[n,e,t]},this.renderHelp=function(e){if(c.helpElements){var t=c.helpElements,n=t[0],i=t[1],r=t[2];n.style.display="block",i.innerText=e.title,r.innerText=e.text}},this.hideHelp=function(){c.helpElements&&(c.helpElements[0].style.display="none")},this.renderRequested=function(){c.elements.forEach((function(e){var t=c.state.uiState.scale,n=(c.state.uiState.panX+e.x)/2,i=(c.state.uiState.panY+e.y)/2,r=c.theme.node.width;e.scalable?"topCenter"===e.paddedBy?e.element.style.transform="scale("+t+") translate(calc(-50% + "+r/4+"px), -100%) translate("+n+"px, "+i+"px)":e.element.style.transform="scale("+t+") translate("+(n+e.paddedBy.x)+"px, "+(i+e.paddedBy.y)+"px)":"topCenter"===e.paddedBy?e.element.style.transform="translate(-50%, -100%) scale("+t+") translate("+.25*r+"px, 0) translate("+n+"px, "+i+"px) scale("+1/t+")":e.element.style.transform="scale("+t+") translate("+(n+e.paddedBy.x)+"px, "+(i+e.paddedBy.y)+"px) scale("+1/t+")"}))},this.nodeMoved=function(){var e=c.state.selectedNodes[0];c.elements.forEach((function(t){e&&t.node===e&&(t.x=e.x,t.y=e.y,c.eventBus.publish(r.DiagramEvents.RenderRequested))}))},this.removeElement=function(e){e.element.remove(),c.elements=c.elements.filter((function(t){return t!==e})),c.nodeAttachedElements=c.nodeAttachedElements.filter((function(t){return t!==e}))},this.elements=[],this.nodeAttachedElements=[],this.state,this.eventBus.subscribe(r.DiagramEvents.RenderRequested,this.renderRequested),this.eventBus.subscribe(r.IOEvents.WorldMouseDrag,this.nodeMoved),o.CSSMiniEngine.instance.addClass(a,s+"container"),o.CSSMiniEngine.instance.addClass(u,s+"title"),o.CSSMiniEngine.instance.addClass(d,s+"content"),this.prepareHelpMarkup()}return e.prototype.createElementFromHTML=function(e,t,n,r,o,s){var a,u,d=this,c=(a=e,(u=document.createElement("div")).innerHTML=a.trim(),u.firstChild),l={x:t,y:n,element:c,id:123,paddedBy:o,scalable:r};this.elements.push(l),s&&(l.node=s,this.nodeAttachedElements.push(l)),c.style.left=this.getHostElement().offsetLeft+"px",c.style.top=this.getHostElement().offsetTop+"px",this.getHostElement().appendChild(c);var h=Array.from(c.querySelectorAll("[data-ref]")).reduce((function(e,t){var n;return i(i({},e),((n={})[t.getAttribute("data-ref")]=t,n))}),{}),p=c.getAttribute("data-ref");return p&&(h[p]=c),{remove:function(){return d.removeElement(l)},refs:h}},e}();t.HtmlManager=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DescriptionManager=void 0;var i=n(1),r=n(3),o=n(0),s=n(2),a=o.Utils.getUniquePrefix("DescriptionManager"),u={position:"fixed",transformOrigin:"top left"},d=function(e){return{borderRadius:"3px",padding:"10px",background:e.colors.description.background,color:e.colors.description.text,width:e.description.width+"px",textAlign:"left",outline:"none",font:"normal "+e.description.fontSize+"px "+e.fontFamily,lineHeight:e.description.lineHeight+"px"}},c=function(e){return{minWidth:"10px",minHeight:"14px",display:"block",outline:"none"}},l={height:"10px",pointerEvents:"none",position:"relative"},h=function(e){return{left:"50%",width:"10px",height:"10px",position:"absolute",transform:"translate(-5px, -5px) rotate(45deg)",background:e.colors.description.background}},p=function(){function e(t,n,o){var a=this;this.state=t,this.eventBus=n,this.htmlManager=o,this.registeredDescriptionElement=null,this.selectedNode=null,this.editedValue="",this.nodeMoving=function(){a.selectedNode&&a.registeredDescriptionElement&&a.state.selectedNodes.indexOf(a.selectedNode)>-1&&(a.registeredDescriptionElement.refs.container.style.pointerEvents="none")},this.nodeMoved=function(){a.selectedNode&&a.registeredDescriptionElement&&(a.registeredDescriptionElement.refs.container.style.pointerEvents="all")},this.assignDescriptionToNode=function(){if(a.registeredDescriptionElement){var e=a.editedValue;a.selectedNode&&e!==a.DESCRIPTION_PLACEHOLDER&&(a.selectedNode.description=e,a.eventBus.publish(i.DiagramEvents.NodeChanged))}},this.clearDescription=function(){a.registeredDescriptionElement&&a.registeredDescriptionElement.remove()},this.getNodeDescriptionValue=function(e){return e.description||a.DESCRIPTION_PLACEHOLDER},this.nodeSelectionChange=function(){if(a.assignDescriptionToNode(),a.clearDescription(),!(0===a.state.selectedNodes.length||a.state.selectedNodes.length>1)){var e=a.state.selectedNodes[0];!(a.state.isReadOnly||e.readonly||e.notEditable)||e.description?a.registerNodeEditedDescription(e):a.clearDescription()}},this.registerNodeEditedDescription=function(t){var n=e.containerClassName,r=e.descriptionClassName,o=e.separatorClassName,s=e.descriptionSpanClassName,u=a.state.isReadOnly||t.readonly||t.notEditable,d=t.x,c=t.y,l=u?"":"contenteditable",h=a.htmlManager.createElementFromHTML('\n      <div class="'+n+'" data-ref="container">\n        <div class="'+r+'">\n          <span data-ref="span" '+l+' class="'+s+'"></span>\n        </div>\n        <div class="'+o+'"></div>\n      </div>\n    ',d,c,!1,"topCenter",t),p=h.refs;p.span.innerText=a.getNodeDescriptionValue(t)||"",a.editedValue=p.span.innerText,p.span.addEventListener("paste",(function(e){if(e.preventDefault(),e.clipboardData){var t=e.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,t)}})),p.span.addEventListener("input",(function(e){a.editedValue=e.target.innerText})),p.span.addEventListener("blur",(function(){a.assignDescriptionToNode()})),p.span.addEventListener("focus",(function(){if(!t.description){var e=document.createRange();e.selectNodeContents(p.span);var n=window.getSelection();n&&(n.removeAllRanges(),n.addRange(e))}})),a.clearDescription(),a.selectedNode=t,a.registeredDescriptionElement=h,a.eventBus.publish(i.DiagramEvents.RenderRequested)},this.state,this.DESCRIPTION_PLACEHOLDER=s.ConfigurationManager.instance.getOption("theme").description.placeholder,this.eventBus.subscribe(i.DiagramEvents.NodeSelected,this.nodeSelectionChange),this.eventBus.subscribe(i.DiagramEvents.NodeCreated,this.nodeSelectionChange);var p=e.containerClassName,f=e.descriptionClassName,v=e.separatorClassName,g=e.descriptionSpanClassName;this.eventBus.subscribe(i.IOEvents.WorldMouseDrag,this.nodeMoving),this.eventBus.subscribe(i.DiagramEvents.NodeMoved,this.nodeMoved),r.CSSMiniEngine.instance.addClass(u,p),r.CSSMiniEngine.instance.addClass(d,f),r.CSSMiniEngine.instance.addClass(c,g),r.CSSMiniEngine.instance.addClass(l,v),r.CSSMiniEngine.instance.addClass(h,v,"::after")}return e.containerClassName=a+"Container",e.descriptionClassName=a+"Description",e.descriptionSpanClassName=a+"DescriptionSpan",e.separatorClassName=a+"Separator",e}();t.DescriptionManager=p},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.IO=void 0;var o=n(1);r(n(45),t);var s=function(){function e(e,t){var n=this;this.element=t,this.lastClick=Date.now(),this.touchStartTime=Date.now(),this.hasContainerFocus=!1,this.eventBus=e,this.calculateClientBoundingRect(),t.addEventListener("mouseleave",(function(e){e.preventDefault(),n.eventBus.publish(o.IOEvents.ScreenMouseLeave)})),t.addEventListener("mousemove",(function(e){if(e.preventDefault(),n.elementRect&&n.hasContainerFocus){var t=n.createMouseEventPayload(e);n.eventBus.publish(o.IOEvents.ScreenMouseMove,t),1===e.buttons?n.eventBus.publish(o.IOEvents.ScreenMouseDrag,t):n.eventBus.publish(o.IOEvents.ScreenMouseOverMove,t)}})),t.addEventListener("wheel",(function(e){e.preventDefault();var t=1===e.deltaMode?24*e.deltaY:e.deltaY,i=n.createMouseEventPayload(e);n.eventBus.publish(o.IOEvents.ScreenMouseWheel,t,i.x,i.y)})),t.addEventListener("mouseup",(function(e){e.preventDefault(),1===e.which?n.eventBus.publish(o.IOEvents.ScreenLeftMouseUp,n.createMouseEventPayload(e)):3===e.which&&n.eventBus.publish(o.IOEvents.ScreenRightMouseUp,n.createMouseEventPayload(e))})),t.addEventListener("mousedown",(function(e){if(n.hasContainerFocus=!0,1===e.which){n.eventBus.publish(o.IOEvents.ScreenLeftMouseClick,n.createMouseEventPayload(e,e.shiftKey));var t=Date.now();t-n.lastClick<250&&n.eventBus.publish(o.IOEvents.ScreenDoubleClick,n.createMouseEventPayload(e)),n.lastClick=t}else 3===e.which&&n.eventBus.publish(o.IOEvents.ScreenRightMouseClick,n.createMouseEventPayload(e))})),t.addEventListener("keydown",(function(e){var t=e.ctrlKey||e.metaKey;"m"===e.key&&n.eventBus.publish(o.IOEvents.MPressed),"Delete"===e.key&&n.eventBus.publish(o.IOEvents.DeletePressed),"Backspace"===e.key&&n.eventBus.publish(o.IOEvents.BackspacePressed),"z"===e.key&&t&&!e.shiftKey&&n.eventBus.publish(o.DiagramEvents.UndoRequested),"z"===e.key&&t&&e.shiftKey&&n.eventBus.publish(o.DiagramEvents.RedoRequested)})),t.addEventListener("touchstart",(function(e){e.preventDefault(),n.eventBus.publish(o.IOEvents.ScreenLeftMouseClick,n.createTouchEventPayload(e)),n.touchStartTime=Date.now()})),t.addEventListener("touchend",(function(e){e.preventDefault();var t=Date.now();t-n.touchStartTime>500&&n.eventBus.publish(o.IOEvents.ScreenRightMouseUp,n.createTouchEventPayload(e)),n.touchStartTime=t}))}return e.prototype.calculateClientBoundingRect=function(){this.elementRect=this.element.getBoundingClientRect()},e.prototype.getReferenceRect=function(){return this.elementRect||{left:0,top:0}},e.prototype.createMouseEventPayload=function(e,t){void 0===t&&(t=!1);var n=this.getReferenceRect();return{x:2*e.clientX-2*n.left,y:2*e.clientY-2*n.top,shiftKey:t}},e.prototype.createTouchEventPayload=function(e,t){void 0===t&&(t=!1);var n=this.getReferenceRect();return{x:2*e.changedTouches[0].clientX-2*n.left,y:2*e.changedTouches[0].clientY-2*n.top,shiftKey:t}},e}();t.IO=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(47),t),r(n(48),t),r(n(49),t),r(n(50),t),r(n(51),t),r(n(52),t),r(n(53),t),r(n(54),t),r(n(55),t),r(n(56),t),r(n(57),t),r(n(58),t),r(n(59),t),r(n(60),t),r(n(61),t),r(n(62),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Serializer=void 0;var i=n(64),r=n(65),o=n(0),s=function(){function e(){}return e.serialize=function(e){return{nodes:e.nodes.map(i.serializeNode),links:e.links.map(r.serializeLink)}},e.deserialize=function(e,t){e.nodes.filter((function(e){return e.definition.root})).forEach((function(e){var n=i.deserializeNodeDefinition(e.definition,t);o.NodeUtils.createObjectDefinition(n,e.name).forEach((function(e){return t.push(e)}))}));var n=e.nodes.map((function(e){return i.deserializeNode(e,t)})),s=e.links.map((function(e){return r.deserializeLink(e,n)}));return{nodes:n,links:s}},e}();t.Serializer=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeNode=t.serializeNode=t.deserializeNodeDefinition=t.serializeNodeDefinition=void 0,t.serializeNodeDefinition=function(e){var n=e.type,i=e.root,r=e.main,o=e.parent;return{main:r,root:i,type:n,parent:o&&t.serializeNodeDefinition(o)}},t.deserializeNodeDefinition=function(e,t){var n=e.type,i=e.root,r=e.main,o=e.parent;return t.find((function(e){return!(e.type!==n||e.root!==i||e.main!==r||o&&e.parent&&e.parent.type!==o.type)}))},t.serializeNode=function(e){var n=e.id,i=e.name,r=e.description,o=e.x,s=e.y,a=e.options,u=e.readonly,d=e.definition,c=e.editsDefinitions;return{id:n,name:i,description:r,x:o,y:s,options:a,readonly:u,definition:t.serializeNodeDefinition(d),editsDefinitions:c&&c.map(t.serializeNodeDefinition)}},t.deserializeNode=function(e,n){var i=e.id,r=e.x,o=e.y,s=e.name,a=e.options,u=e.definition,d=e.description,c=e.editsDefinitions;return{id:i,x:r,y:o,name:s,options:a,description:d,readonly:e.readonly,definition:t.deserializeNodeDefinition(u,n),editsDefinitions:c&&c.map((function(e){return t.deserializeNodeDefinition(e,n)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeLink=t.serializeLink=void 0,t.serializeLink=function(e){var t=e.centerPoint,n=e.i,i=e.o;return{centerPoint:t,iId:n.id,oId:i.id}},t.deserializeLink=function(e,t){var n=e.centerPoint,i=e.iId,r=e.oId;return{centerPoint:n,i:t.find((function(e){return e.id===i})),o:t.find((function(e){return e.id===r})),circularReference:i===r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Old=void 0;var i=function(){function e(){}return e.isObject=function(e){return!(e.clone||e.kind||!e.subType)||void 0},e.definitionFromOldNode=function(t,n){return{type:t.kind||t.type,root:e.isObject(t),parent:t.clone&&t.kind?{type:n.find((function(e){return e.id===t.clone})).type}:void 0}},e.deserialize=function(t){var n=t.links.map((function(e){return{centerPoint:.5,iId:e.to.nodeId,oId:e.from.nodeId}}));return{nodes:t.nodes.map((function(n){return{id:n.id,x:n.x,y:n.y,name:name,description:"",options:n.required?["required"]:[],definition:e.definitionFromOldNode(n,t.nodes),editsDefinition:e.isObject(n)&&{type:n.kind}}})),links:n}},e}();t.Old=i},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultDiagramThemeLight=void 0;var r=n(4),o=n(8);t.DefaultDiagramThemeLight=i(i({},JSON.parse(JSON.stringify(r.DefaultDiagramTheme))),{colors:{background:o.Colors.grey[10],node:{background:o.Colors.grey[2],selected:o.Colors.green[0],name:o.Colors.grey[11],type:o.Colors.grey[6],types:{string:o.Colors.green[0],type:o.Colors.grey[11]},options:{required:o.Colors.red[0],array:o.Colors.yellow[7]},hover:{type:o.Colors.yellow[0]},menuOpened:o.Colors.red[0]},minimap:{background:o.Colors.grey[0],visibleArea:o.Colors.grey[1],node:o.Colors.grey[11],borders:o.Colors.grey[4]},description:{background:o.Colors.grey[2],text:o.Colors.grey[11]},port:{background:o.Colors.grey[3],backgroundActive:o.Colors.grey[4],button:o.Colors.grey[0]},link:{main:o.Colors.grey[3],hover:o.Colors.yellow[0],active:o.Colors.green[0]},menu:{background:o.Colors.grey[2],borders:o.Colors.grey[3],text:o.Colors.grey[11],hover:o.Colors.grey[1]},help:{background:o.Colors.grey[2],text:o.Colors.grey[11],title:o.Colors.main[0]}}})}]);